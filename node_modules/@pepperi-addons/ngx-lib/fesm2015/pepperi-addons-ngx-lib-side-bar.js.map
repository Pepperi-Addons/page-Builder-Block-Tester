{"version":3,"file":"pepperi-addons-ngx-lib-side-bar.js","sources":["../../../projects/ngx-lib/side-bar/side-bar.component.ts","../../../projects/ngx-lib/side-bar/side-bar.module.ts","../../../projects/ngx-lib/side-bar/public-api.ts","../../../projects/ngx-lib/side-bar/pepperi-addons-ngx-lib-side-bar.ts"],"sourcesContent":["import {\n    Component,\n    OnInit,\n    Injectable,\n    Input,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    Renderer2,\n} from '@angular/core';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport {\n    trigger,\n    state,\n    style,\n    transition,\n    animate,\n} from '@angular/animations';\nimport {\n    PepCustomizationService,\n    PepLayoutService,\n    PepScreenSizeType,\n} from '@pepperi-addons/ngx-lib';\nimport { IPepSideBarStateChangeEvent, PepSideBarStateType } from './side-bar.model';\nimport { pepIconArrowLeft, pepIconArrowRight } from '@pepperi-addons/ngx-lib/icon';\n\n@Component({\n    selector: 'pep-side-bar',\n    templateUrl: './side-bar.component.html',\n    styleUrls: ['./side-bar.component.scss']\n})\n@Injectable()\nexport class PepSideBarComponent implements OnInit {\n    static ONE_MULTI_BY_DIR_KEY = '--pep-one-multi-by-dir';\n\n    @Input() ignoreResize = false;\n    @Input() showHeader = true;\n    @Input() showFooter = false;\n\n    private _useAsWebComponent = false;\n    private readonly _animationTime = 350; // milliseconds.\n\n    state: PepSideBarStateType = 'open';\n    toggleButtonArrowName: string = pepIconArrowRight.name;\n    isLargeScreen = true;\n\n    @Input()\n    set useAsWebComponent(value: boolean) {\n        if (value) {\n            this.exportFunctionsOnHostElement();\n        }\n    }\n    get useAsWebComponent(): boolean {\n        return this._useAsWebComponent;\n    }\n\n    @Output()\n    stateChange: EventEmitter<IPepSideBarStateChangeEvent> = new EventEmitter<IPepSideBarStateChangeEvent>();\n\n    @ViewChild('sidenav') sidenav: MatSidenav;\n\n    isMouseIn = false;\n    sideBarHeight = '100%';\n\n    screenSize: PepScreenSizeType;\n    PepScreenSizeType = PepScreenSizeType;\n\n    constructor(\n        private hostElement: ElementRef,\n        private renderer: Renderer2,\n        public layoutService: PepLayoutService\n    ) {\n        this.layoutService.onResize$.subscribe((size: PepScreenSizeType) => {\n            this.screenSize = size;\n            this.isLargeScreen = size < PepScreenSizeType.MD;\n        });\n    }\n\n    private exportFunctionsOnHostElement() {\n        // This is for web component usage for use those functions.\n        this.hostElement.nativeElement.open = this.open.bind(this);\n        this.hostElement.nativeElement.close = this.close.bind(this);\n    }\n\n    private setState(state: PepSideBarStateType) {\n        this.state = state;\n        this.toggleButtonArrowName =\n            // state === 'open' ?\n            // (this.layoutService.isRtl() ? pepIconArrowRight.name : pepIconArrowLeft.name) :\n            (this.layoutService.isRtl() ? pepIconArrowLeft.name : pepIconArrowRight.name);\n    }\n\n    private toggleState() {\n        this.setState(this.state === 'close' ? 'open' : 'close');\n    }\n\n    ngOnInit() {\n        document.documentElement.style.setProperty(PepSideBarComponent.ONE_MULTI_BY_DIR_KEY, this.layoutService.isRtl() ? '1' : '-1');\n        this.setState(this.isLargeScreen ? 'open' : 'close');\n    }\n\n    setSideBarHeight(event) {\n        // const from = event.relatedTarget\n        //     ? event.relatedTarget\n        //     : event.fromElement;\n        // const to = event.target ? event.target : event.toElement;\n\n        // if (typeof from === 'undefined' || typeof to === 'undefined') {\n        //     return;\n        // }\n        // this.isMouseIn = true;\n\n        // this.sideBarHeight = window.innerHeight - to.offsetTop + 'px';\n    }\n\n    mouseLeaveSideBar(event) {\n        // const from = event.relatedTarget\n        //     ? event.relatedTarget\n        //     : event.fromElement;\n        // const to = event.target ? event.target : event.toElement;\n\n        // if (typeof from === 'undefined' || typeof to === 'undefined') {\n        //     return;\n        // }\n        // this.sideBarHeight = '100%';\n        // this.isMouseIn = false;\n    }\n\n    open() {\n        if (this.sidenav) {\n            this.sidenav.open();\n        }\n\n        this.state = 'open';\n    }\n\n    close() {\n        if (this.sidenav) {\n            this.sidenav.close();\n        }\n\n        this.state = 'close';\n    }\n\n    toggle() {\n        if (this.sidenav) {\n            // const isOpen = this.sidenav.opened;\n            this.sidenav.toggle();\n        }\n\n        this.toggleState();\n    }\n\n    toggleSideWrapper() {\n        this.toggleState();\n        // Raise event after animation finish.\n        setTimeout(() => {\n            this.stateChange.emit({ state: this.state });\n        }, this._animationTime);\n    }\n\n    toggleSidenav(isOpen: boolean) {\n        this.setState(isOpen ? 'open' : 'close');\n        // Raise event after animation finish.\n        setTimeout(() => {\n            this.stateChange.emit({ state: this.state });\n        }, this._animationTime);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSidenavModule } from '@angular/material/sidenav';\n\nimport { PepNgxLibModule } from '@pepperi-addons/ngx-lib';\nimport {\n    PepIconModule,\n    PepIconRegistry,\n    pepIconSystemClose,\n} from '@pepperi-addons/ngx-lib/icon';\n\nimport { PepSideBarComponent } from './side-bar.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        // Material modules,\n        MatCommonModule,\n        MatIconModule,\n        MatSidenavModule,\n        // ngx-lib modules\n        PepNgxLibModule,\n        PepIconModule,\n    ],\n    exports: [PepSideBarComponent],\n    declarations: [PepSideBarComponent],\n})\nexport class PepSideBarModule {\n    constructor(private pepIconRegistry: PepIconRegistry) {\n        this.pepIconRegistry.registerIcons([pepIconSystemClose]);\n    }\n}\n","/*\n * Public API Surface of ngx-lib/side-bar\n */\nexport * from './side-bar.module';\nexport * from './side-bar.component';\nexport * from './side-bar.model';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;MAiCa,mBAAmB;IAmC5B,YACY,WAAuB,EACvB,QAAmB,EACpB,aAA+B;QAF9B,gBAAW,GAAX,WAAW,CAAY;QACvB,aAAQ,GAAR,QAAQ,CAAW;QACpB,kBAAa,GAAb,aAAa,CAAkB;QAnCjC,iBAAY,GAAG,KAAK,CAAC;QACrB,eAAU,GAAG,IAAI,CAAC;QAClB,eAAU,GAAG,KAAK,CAAC;QAEpB,uBAAkB,GAAG,KAAK,CAAC;QAClB,mBAAc,GAAG,GAAG,CAAC;QAEtC,UAAK,GAAwB,MAAM,CAAC;QACpC,0BAAqB,GAAW,iBAAiB,CAAC,IAAI,CAAC;QACvD,kBAAa,GAAG,IAAI,CAAC;QAarB,gBAAW,GAA8C,IAAI,YAAY,EAA+B,CAAC;QAIzG,cAAS,GAAG,KAAK,CAAC;QAClB,kBAAa,GAAG,MAAM,CAAC;QAGvB,sBAAiB,GAAG,iBAAiB,CAAC;QAOlC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAuB;YAC3D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,aAAa,GAAG,IAAI,GAAG,iBAAiB,CAAC,EAAE,CAAC;SACpD,CAAC,CAAC;KACN;IA9BD,IACI,iBAAiB,CAAC,KAAc;QAChC,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,4BAA4B,EAAE,CAAC;SACvC;KACJ;IACD,IAAI,iBAAiB;QACjB,OAAO,IAAI,CAAC,kBAAkB,CAAC;KAClC;IAwBO,4BAA4B;;QAEhC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3D,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAChE;IAEO,QAAQ,CAAC,KAA0B;QACvC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,qBAAqB;;;aAGrB,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,GAAG,gBAAgB,CAAC,IAAI,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAC;KACrF;IAEO,WAAW;QACf,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC;KAC5D;IAED,QAAQ;QACJ,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,WAAW,CAAC,mBAAmB,CAAC,oBAAoB,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;QAC9H,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC;KACxD;IAED,gBAAgB,CAAC,KAAK;;;;;;;;;;KAYrB;IAED,iBAAiB,CAAC,KAAK;;;;;;;;;;KAWtB;IAED,IAAI;QACA,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SACvB;QAED,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;KACvB;IAED,KAAK;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SACxB;QAED,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;KACxB;IAED,MAAM;QACF,IAAI,IAAI,CAAC,OAAO,EAAE;;YAEd,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;SACzB;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;IAED,iBAAiB;QACb,IAAI,CAAC,WAAW,EAAE,CAAC;;QAEnB,UAAU,CAAC;YACP,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;SAChD,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;KAC3B;IAED,aAAa,CAAC,MAAe;QACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,GAAG,OAAO,CAAC,CAAC;;QAEzC,UAAU,CAAC;YACP,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;SAChD,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;KAC3B;;AAtIM,wCAAoB,GAAG,wBAAwB,CAAC;;YAP1D,SAAS,SAAC;gBACP,QAAQ,EAAE,cAAc;gBACxB,2/FAAwC;;aAE3C;YACA,UAAU;;;YAxBP,UAAU;YACV,SAAS;YAYT,gBAAgB;;;2BAef,KAAK;yBACL,KAAK;yBACL,KAAK;gCASL,KAAK;0BAUL,MAAM;sBAGN,SAAS,SAAC,SAAS;;;MC9BX,gBAAgB;IACzB,YAAoB,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAChD,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;KAC5D;;;YAjBJ,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,YAAY;;oBAEZ,eAAe;oBACf,aAAa;oBACb,gBAAgB;;oBAEhB,eAAe;oBACf,aAAa;iBAChB;gBACD,OAAO,EAAE,CAAC,mBAAmB,CAAC;gBAC9B,YAAY,EAAE,CAAC,mBAAmB,CAAC;aACtC;;;YAnBG,eAAe;;;ACVnB;;;;ACAA;;;;;;"}