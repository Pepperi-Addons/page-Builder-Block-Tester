{"version":3,"file":"pepperi-addons-ngx-lib-size-detector.js","sources":["../../../projects/ngx-lib/size-detector/size-detector.component.ts","../../../projects/ngx-lib/size-detector/size-detector.module.ts","../../../projects/ngx-lib/size-detector/public-api.ts","../../../projects/ngx-lib/size-detector/pepperi-addons-ngx-lib-size-detector.ts"],"sourcesContent":["import {\n    Component,\n    OnInit,\n    AfterViewInit,\n    HostListener,\n    ElementRef,\n    Input,\n    Output,\n    EventEmitter,\n} from '@angular/core';\nimport { PepLayoutService, PepScreenSizeType } from '@pepperi-addons/ngx-lib';\n\ninterface IPepSizeDetectorItem {\n    id: PepScreenSizeType;\n    name: string;\n    css: string;\n}\n\n@Component({\n    selector: 'pep-size-detector',\n    templateUrl: './size-detector.component.html',\n})\nexport class PepSizeDetectorComponent implements AfterViewInit {\n    @Input() showScreenSize = false;\n\n    private _useAsWebComponent = false;\n    @Input()\n    set useAsWebComponent(value: boolean) {\n        if (value) {\n            this.exportFunctionsOnHostElement();\n        }\n    }\n    get useAsWebComponent(): boolean {\n        return this._useAsWebComponent;\n    }\n\n    @Output()\n    sizeChange: EventEmitter<IPepSizeDetectorItem> = new EventEmitter<IPepSizeDetectorItem>();\n\n    prefix = 'is-';\n    sizes: Array<IPepSizeDetectorItem> = [\n        {\n            id: PepScreenSizeType.XS,\n            name: 'xs',\n            css: `d-block d-sm-none`,\n        },\n        {\n            id: PepScreenSizeType.SM,\n            name: 'sm',\n            css: `d-none d-sm-block d-md-none`,\n        },\n        {\n            id: PepScreenSizeType.MD,\n            name: 'md',\n            css: `d-none d-md-block d-lg-none`,\n        },\n        {\n            id: PepScreenSizeType.LG,\n            name: 'lg',\n            css: `d-none d-lg-block d-xl-none`,\n        },\n        {\n            id: PepScreenSizeType.XL,\n            name: 'xl',\n            css: `d-none d-xl-block`,\n        },\n    ];\n\n    private currentSize: IPepSizeDetectorItem;\n\n    constructor(\n        private hostElement: ElementRef,\n        private layoutService: PepLayoutService\n    ) {\n        this.layoutService.onResize$.subscribe((size: PepScreenSizeType) => {\n            this.currentSize = this.sizes.find((s) => s.id === size);\n            this.sizeChange.emit(this.currentSize);\n        });\n    }\n\n    @HostListener('window:resize', ['$event'])\n    onResize(event): void {\n        this.detectScreenSize();\n    }\n\n    ngAfterViewInit(): void {\n        this.detectScreenSize();\n    }\n\n    private detectScreenSize(): void {\n        this.currentSize = this.sizes.find((x) => {\n            const el = this.hostElement.nativeElement.querySelector(\n                `.${this.prefix}${x.id}`\n            );\n            const isVisible = window.getComputedStyle(el).display !== 'none';\n\n            return isVisible;\n        });\n\n        this.layoutService.onResize(this.currentSize.id);\n    }\n\n    private exportFunctionsOnHostElement() {\n        // This is for web component usage for use those functions.\n        this.hostElement.nativeElement.getCurrentSize = this.getCurrentSize.bind(\n            this\n        );\n    }\n\n    getCurrentSize(): IPepSizeDetectorItem {\n        return this.currentSize;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { PepNgxLibModule } from '@pepperi-addons/ngx-lib';\n\nimport { PepSizeDetectorComponent } from './size-detector.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        FlexLayoutModule,\n        // ngx-lib modules\n        PepNgxLibModule,\n    ],\n    exports: [PepSizeDetectorComponent],\n    declarations: [PepSizeDetectorComponent],\n})\nexport class PepSizeDetectorModule {}\n","/*\n * Public API Surface of ngx-lib/size-detector\n */\nexport * from './size-detector.module';\nexport * from './size-detector.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}