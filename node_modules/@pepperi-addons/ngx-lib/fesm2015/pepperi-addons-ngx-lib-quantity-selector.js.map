{"version":3,"file":"pepperi-addons-ngx-lib-quantity-selector.js","sources":["../../../projects/ngx-lib/quantity-selector/quantity-selector.component.ts","../../../projects/ngx-lib/quantity-selector/quantity-selector-validation.directive.ts","../../../projects/ngx-lib/quantity-selector/quantity-selector.pipes.ts","../../../projects/ngx-lib/quantity-selector/quantity-selector.module.ts","../../../projects/ngx-lib/quantity-selector/public-api.ts","../../../projects/ngx-lib/quantity-selector/pepperi-addons-ngx-lib-quantity-selector.ts"],"sourcesContent":["import {\n    Component,\n    OnInit,\n    OnChanges,\n    OnDestroy,\n    Input,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    ChangeDetectorRef,\n    ChangeDetectionStrategy,\n    Renderer2,\n    AfterViewInit,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n    trigger,\n    state,\n    style,\n    animate,\n    transition,\n} from '@angular/animations';\nimport {\n    PepLayoutType,\n    PepStyleType,\n    PepCustomizationService,\n    PepHorizontalAlignment,\n    DEFAULT_HORIZONTAL_ALIGNMENT,\n    IPepFieldClickEvent,\n    PepQuantitySelectorFieldType,\n    PepQuantitySelectorField,\n    PepUtilitiesService,\n} from '@pepperi-addons/ngx-lib';\nimport { BehaviorSubject, fromEvent, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n    selector: 'pep-quantity-selector',\n    templateUrl: './quantity-selector.component.html',\n    styleUrls: ['./quantity-selector.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [\n        trigger('showHide', [\n            state(\n                'show',\n                style({\n                    opacity: 1,\n                    transform: 'scale(1)',\n                })\n            ),\n            state(\n                'hide',\n                style({\n                    opacity: 0,\n                    transform: 'scale(0)',\n                })\n            ),\n            transition('show => hide', animate('250ms ease-out')),\n            transition('hide => show', animate('250ms ease-in')),\n        ]),\n    ],\n})\nexport class PepQuantitySelectorComponent\n    implements OnChanges, OnInit, AfterViewInit, OnDestroy {\n    public static ENTER_CHILDREN = '[EnterChildren]';\n    public static ENTER_PACKAGE = '[EnterPackage]';\n    public static PLUS = '[+]';\n    public static MINUS = '[-]';\n\n    @Input() key = '';\n\n    private _value = null;\n    @Input()\n    set value(value: string) {\n        if (!value) {\n            value = '';\n        }\n\n        this._value = value;\n\n        if (this._calculateFormattedValue) {\n            this.setFormattedValue(value);\n        }\n    }\n    get value(): string {\n        return this._value;\n    }\n\n    private _formattedValue = null;\n    @Input()\n    set formattedValue(value: string) {\n        if (!value) {\n            value = '';\n        }\n\n        if (this._calculateFormattedValue) {\n            this._calculateFormattedValue = false;\n        }\n\n        this.setFormattedValue(value);\n    }\n    get formattedValue(): string {\n        return this._formattedValue;\n    }\n\n    @Input() label = '';\n    @Input() type: PepQuantitySelectorFieldType = 'qs';\n    @Input() mandatory = false;\n    @Input() disabled = false;\n    @Input() readonly = false;\n\n    private _textColor = '';\n    @Input()\n    set textColor(value: string) {\n        this._textColor = value;\n        this.isCaution = value === '#FF0000';\n    }\n    get textColor(): string {\n        return this._textColor;\n    }\n\n    @Input() xAlignment: PepHorizontalAlignment = DEFAULT_HORIZONTAL_ALIGNMENT;\n    @Input() rowSpan = 1;\n    @Input() allowDecimal = false;\n    @Input() additionalValue = '';\n\n    private _notificationInfo: any;\n    @Input()\n    set notificationInfo(value: any) {\n        this._notificationInfo = value;\n\n        const messages = value && value > 0 ? JSON.parse(value).Messages : '';\n        if (messages && messages.length > 0) {\n            // Replace the msg keys.\n            for (const msg of messages) {\n                if (msg.Key === 'Inventory_Limit_Msg') {\n                    msg.Key = 'MESSAGES.ERROR_INVENTORY_LIMIT';\n                } else if (msg.Key === 'Case_Quantity_Limit_Msg') {\n                    msg.Key = 'MESSAGES.ERROR_CASE_QUANTITY_LIMIT';\n                } else if (msg.Key === 'Min_Quantity_Limit_Msg') {\n                    msg.Key = 'MESSAGES.ERROR_MIN_QUANTITY_LIMIT';\n                } else if (msg.Key === 'Max_Quantity_Limit_Msg') {\n                    msg.Key = 'MESSAGES.ERROR_MAX_QUANTITY_LIMIT';\n                }\n            }\n\n            this.messages = messages;\n\n            const fieldControl = this.form.controls[this.key];\n            fieldControl.setErrors({\n                serverError: 'Error',\n            });\n\n            this.sameElementInTheWantedRow = null;\n            setTimeout(() => {\n                if (this.QSInput && this.QSInput.nativeElement) {\n                    this.QSInput.nativeElement.focus();\n                }\n            }, 150);\n        }\n    }\n    get notificationInfo(): any {\n        return this._notificationInfo;\n    }\n\n    private _visible = true;\n    @Input()\n    set visible(visible: boolean) {\n        this._visible = visible;\n        if (visible) {\n            this.renderer.removeClass(\n                this.element.nativeElement,\n                'hidden-element'\n            );\n        } else {\n            this.renderer.addClass(\n                this.element.nativeElement,\n                'hidden-element'\n            );\n        }\n    }\n    get visible(): boolean {\n        return this._visible;\n    }\n\n    controlType = 'qs';\n\n    @Input() form: FormGroup = null;\n    @Input() showTitle = true;\n    @Input() layoutType: PepLayoutType = 'form';\n    @Input() isActive = false;\n\n    // Get default style from theme.\n    @Input()\n    styleType: PepStyleType = document.documentElement.style.getPropertyValue(\n        PepCustomizationService.STYLE_QS_KEY\n    ) as PepStyleType; //'strong';\n\n    @Output()\n    valueChange: EventEmitter<string> = new EventEmitter<string>();\n\n    @Output()\n    elementClick: EventEmitter<IPepFieldClickEvent> = new EventEmitter<IPepFieldClickEvent>();\n\n    @ViewChild('QSCont') QSCont: ElementRef;\n    @ViewChild('QSInput') QSInput: ElementRef;\n\n    private _calculateFormattedValue = true;\n    get calculateFormattedValue(): boolean {\n        return this._calculateFormattedValue;\n    }\n\n    private readonly _destroyed: Subject<void>;\n    private qsWidthSubject: BehaviorSubject<number>;\n    lastQsContClientWidth = 0;\n    showQsBtn = true;\n\n    standAlone = false;\n    isInFocus = false;\n    isMatrixFocus = false;\n\n    isCaution = false;\n    messages: Array<any> = null;\n\n    sameElementInTheWantedRow = null;\n\n    isEmptyKey = false;\n\n    constructor(\n        private cd: ChangeDetectorRef,\n        private customizationService: PepCustomizationService,\n        private renderer: Renderer2,\n        private element: ElementRef,\n        private translate: TranslateService,\n        private utilitiesService: PepUtilitiesService\n    ) {\n        this._destroyed = new Subject();\n        this.qsWidthSubject = new BehaviorSubject(0);\n    }\n\n    setForm() {\n        const pepField = new PepQuantitySelectorField({\n            key: this.key,\n            value: this.value,\n            mandatory: this.mandatory,\n            readonly: this.readonly,\n            disabled: this.disabled,\n        });\n        this.form = this.customizationService.getDefaultFromGroup(pepField);\n    }\n\n    private setFormattedValue(value: string) {\n        if (this._calculateFormattedValue) {\n            this._formattedValue = this.utilitiesService.formatNumber(value);\n        } else {\n            this._formattedValue = value;\n        }\n\n        this.updateFormFieldValue();\n    }\n\n    private updateFormFieldValue() {\n        this.customizationService.updateFormFieldValue(\n            this.form,\n            this.key,\n            this.formattedValue\n        );\n    }\n\n    get displayValue(): string {\n        const res = this.isInFocus\n            ? parseFloat(this.value).toString()\n            : this.formattedValue;\n        return res;\n    }\n\n    protected getDestroyer() {\n        return takeUntil(this._destroyed);\n    }\n\n    ngOnInit(): void {\n        if (this.form === null) {\n            if (this.key === '') {\n                this.isEmptyKey = true;\n            }\n\n            this.standAlone = true;\n            this.setForm();\n\n            this.renderer.addClass(\n                this.element.nativeElement,\n                PepCustomizationService.STAND_ALONE_FIELD_CLASS_NAME\n            );\n        }\n\n        this.qsWidthSubject\n            .asObservable()\n            .pipe(this.getDestroyer(), distinctUntilChanged())\n            .subscribe((qsWidth: number) => {\n                this.setupQsButtons(qsWidth);\n            });\n\n        this.updateFormFieldValue();\n    }\n\n    ngAfterViewInit() {\n        //\n    }\n\n    ngAfterViewChecked(): void {\n        this.setQsView();\n    }\n\n    ngOnChanges(changes: any): void {\n        // Bug fix for addons when the key is '' in the ngOnInit for some reson\n        if (this.isEmptyKey && this.key !== '') {\n            this.setForm();\n        }\n\n        setTimeout(() => {\n            this.focusToTheSameElementInTheWantedRow();\n        }, 150);\n    }\n\n    ngOnDestroy(): void {\n        this._destroyed.next();\n        this._destroyed.complete();\n    }\n\n    get getAdditionalValue(): string {\n        return this.additionalValue.length > 0 ? 'show' : 'hide';\n    }\n\n    getParentByClass(el, parentSelector /* optional */): any {\n        // If no parentSelector defined will bubble up all the way to *document*\n        if (parentSelector === undefined) {\n            parentSelector = document;\n        }\n\n        let p = el.parentNode;\n\n        while (\n            p &&\n            !p?.classList?.contains(parentSelector) &&\n            parentSelector !== document\n        ) {\n            const o = p;\n            p = o?.parentNode || null;\n        }\n\n        return p?.className.indexOf(parentSelector) > -1 ? p : null;\n    }\n\n    getSameElementInTheWantedRowByClassName(event: any, isNext = true): any {\n        const eventTarget = event.target || event.srcElement;\n        let sameElementInTheWantedRowByClassName;\n\n        let parentSelector;\n        if (this.layoutType === 'table') {\n            parentSelector = this.getParentByClass(eventTarget, 'table-row');\n        } else if (this.layoutType === 'card') {\n            parentSelector = this.getParentByClass(eventTarget, 'card-view');\n            if (!parentSelector) {\n                parentSelector = this.getParentByClass(\n                    eventTarget,\n                    'line-view'\n                );\n            }\n        }\n\n        if (\n            parentSelector.nextElementSibling === null &&\n            parentSelector.previousElementSibling === null\n        ) {\n            sameElementInTheWantedRowByClassName = null;\n        } else {\n            if (isNext) {\n                if (parentSelector.nextElementSibling === null) {\n                    sameElementInTheWantedRowByClassName = parentSelector.parentElement.querySelectorAll(\n                        '[name=' + this.key + ']'\n                    )[0];\n                } else {\n                    sameElementInTheWantedRowByClassName = parentSelector.nextElementSibling.querySelectorAll(\n                        '[name=' + this.key + ']'\n                    )[0];\n                }\n            } else {\n                if (parentSelector.previousElementSibling === null) {\n                    const elementsList = parentSelector.parentElement.querySelectorAll(\n                        '[name=' + this.key + ']'\n                    );\n                    sameElementInTheWantedRowByClassName =\n                        elementsList[elementsList.length - 1];\n                } else {\n                    sameElementInTheWantedRowByClassName = parentSelector.previousElementSibling.querySelectorAll(\n                        '[name=' + this.key + ']'\n                    )[0];\n                }\n            }\n        }\n\n        return sameElementInTheWantedRowByClassName;\n    }\n\n    setSameElementInTheWantedRow(event: any, isNext = true): void {\n        // Navigate to the QS in the next row.\n        if (this.layoutType === 'card' || this.layoutType === 'table') {\n            this.sameElementInTheWantedRow = this.getSameElementInTheWantedRowByClassName(\n                event,\n                isNext\n            );\n        }\n\n        this.QSInput.nativeElement.blur();\n    }\n\n    focusToTheSameElementInTheWantedRow(): void {\n        if (this.sameElementInTheWantedRow) {\n            const elem = this.sameElementInTheWantedRow;\n            // If this is regular item (qs and not button) .\n            if (elem instanceof HTMLInputElement && elem.type === 'text') {\n                elem.click();\n                elem.select();\n            } else {\n                const parentElem = elem.parentNode;\n                parentElem.click();\n                elem.focus();\n            }\n            this.sameElementInTheWantedRow = null;\n        }\n    }\n\n    cleanError(): void {\n        const fieldControl = this.form.controls[this.key];\n\n        // Clean the error message\n        if (this.messages && this.messages.length > 0) {\n            this.messages = this.notificationInfo = null;\n            fieldControl.setErrors(null);\n        }\n    }\n\n    onMatrixMouseEnter(event: any): void {\n        this.isMatrixFocus = true;\n    }\n\n    onMatrixMouseleave(event: any): void {\n        this.isMatrixFocus = false;\n    }\n\n    onMatrixClick(event: any): void {\n        this.isInFocus = true;\n\n        if (this.QSInput && this.QSInput.nativeElement) {\n            this.QSInput.nativeElement.focus();\n        }\n    }\n\n    onMatrixBlur(event: any): void {\n        if (\n            !event.relatedTarget ||\n            event.relatedTarget.className.indexOf('qs') < 0\n        ) {\n            this.isMatrixFocus = false;\n        }\n\n        this.onBlur(event);\n    }\n\n    onFocus(event: any): void {\n        this.isInFocus = true;\n    }\n\n    isDifferentValue(value: string): boolean {\n        let res = false;\n\n        const currentValue = this.utilitiesService.coerceNumberProperty(\n            this.value\n        );\n        const newValue = this.utilitiesService.coerceNumberProperty(value);\n\n        res = currentValue !== newValue;\n\n        return res;\n    }\n\n    onBlur(event: any): void {\n        this.isInFocus = false;\n        this.cleanError();\n        const value = event.target ? event.target.value : event;\n\n        if (value !== this.value && this.isDifferentValue(value)) {\n            this.value = value;\n\n            // If the user is setting the formatted value then set the value till the user format it and return it back.\n            if (!this._calculateFormattedValue) {\n                this._formattedValue = value;\n            }\n\n            this.valueChange.emit(this.value);\n        } else {\n            this.focusToTheSameElementInTheWantedRow();\n        }\n    }\n\n    onKeydown(event): any {\n        const keyboardEvent = event as KeyboardEvent;\n\n        if (keyboardEvent.key === 'Enter') {\n            this.setSameElementInTheWantedRow(\n                keyboardEvent,\n                !keyboardEvent.shiftKey\n            );\n            return true;\n        }\n    }\n\n    increment(event): void {\n        if (this.standAlone) {\n            this.value = this.utilitiesService.incrementNumber(this.value);\n        }\n\n        this.elementClick.emit({\n            key: this.key,\n            value: PepQuantitySelectorComponent.PLUS,\n            controlType: this.controlType,\n            eventWhich: event.which,\n        });\n        event.stopPropagation();\n    }\n\n    decrement(event): void {\n        if (this.standAlone) {\n            this.value = this.utilitiesService.decrementNumber(this.value);\n        }\n\n        this.elementClick.emit({\n            key: this.key,\n            value: PepQuantitySelectorComponent.MINUS,\n            controlType: this.controlType,\n            eventWhich: event.which,\n        });\n        event.stopPropagation();\n    }\n\n    enterChildren(event): void {\n        this.elementClick.emit({\n            key: this.key,\n            value: PepQuantitySelectorComponent.ENTER_CHILDREN,\n            controlType: this.controlType,\n            eventWhich: event.which,\n        });\n    }\n\n    enterPackage(event): void {\n        this.elementClick.emit({\n            key: this.key,\n            value: PepQuantitySelectorComponent.ENTER_PACKAGE,\n            controlType: this.controlType,\n            eventWhich: event.which,\n            otherData: this.notificationInfo,\n        });\n    }\n\n    setupQsButtons(qsWidth: number) {\n        this.showQsBtn = qsWidth > 120;\n\n        if (!this.cd['destroyed']) {\n            this.cd.detectChanges();\n        }\n    }\n\n    setQsView(): void {\n        if (\n            this.QSCont &&\n            this.QSCont.nativeElement &&\n            this.QSCont.nativeElement.clientWidth > 0\n        ) {\n            setTimeout(() => {\n                this.qsWidthSubject.next(this.QSCont.nativeElement.clientWidth);\n            }, 0);\n        }\n    }\n}\n","import { getLocaleNumberSymbol, NumberSymbol } from '@angular/common';\nimport {\n    Directive,\n    ElementRef,\n    HostListener,\n    Input,\n    OnInit,\n} from '@angular/core';\nimport { PepValidatorService } from '@pepperi-addons/ngx-lib';\n\n@Directive({\n    selector: '[pepQsValidation]',\n})\nexport class PepQuantitySelectorValidationDirective implements OnInit {\n    @Input() allowDecimal: boolean;\n\n    previousValue = '';\n\n    constructor(\n        private hostElement: ElementRef,\n        private validatorService: PepValidatorService\n    ) {}\n\n    ngOnInit() {\n        //\n    }\n\n    @HostListener('change', ['$event'])\n    onChange(e) {\n        this.validateValue(this.hostElement.nativeElement.value);\n    }\n\n    @HostListener('keydown', ['$event'])\n    onKeyDown(e: KeyboardEvent) {\n        const originalValue: string = e.target['value'];\n\n        // save value before keydown event\n        this.previousValue = originalValue;\n\n        const isNumber = this.validatorService.isNumber(e, this.allowDecimal);\n        if (isNumber) return;\n        else e.preventDefault();\n    }\n\n    validateValue(value: string): void {\n        const newValue = this.validatorService.validateNumber(\n            value,\n            this.allowDecimal\n        );\n        this.hostElement.nativeElement['value'] = newValue ? newValue : 0;\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'pepQuantitySelectorNumber' })\nexport class PepQuantitySelectorNumberPipe implements PipeTransform {\n    transform(value: string, allowDecimal: boolean): string {\n        const tmpValue = parseFloat(value);\n\n        if (tmpValue === 0) {\n            return '0';\n        } else if (allowDecimal) {\n            return tmpValue.toString();\n        } else {\n            return parseInt(value).toString();\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { PepNgxLibModule } from '@pepperi-addons/ngx-lib';\nimport {\n    PepIconModule,\n    PepIconRegistry,\n    pepIconNumberMinus,\n    pepIconNumberPlus,\n} from '@pepperi-addons/ngx-lib/icon';\nimport { PepFieldTitleModule } from '@pepperi-addons/ngx-lib/field-title';\n\nimport { PepQuantitySelectorComponent } from './quantity-selector.component';\nimport { PepQuantitySelectorValidationDirective } from './quantity-selector-validation.directive';\nimport { PepQuantitySelectorNumberPipe } from './quantity-selector.pipes';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        // Material modules\n        MatCommonModule,\n        MatFormFieldModule,\n        MatInputModule,\n        MatButtonModule,\n        MatBadgeModule,\n        MatIconModule,\n        // ngx-lib modules\n        PepNgxLibModule,\n        PepIconModule,\n        PepFieldTitleModule,\n    ],\n    exports: [PepQuantitySelectorComponent],\n    declarations: [\n        PepQuantitySelectorComponent,\n        PepQuantitySelectorNumberPipe,\n        PepQuantitySelectorValidationDirective,\n    ],\n})\nexport class PepQuantitySelectorModule {\n    constructor(private pepIconRegistry: PepIconRegistry) {\n        this.pepIconRegistry.registerIcons([\n            pepIconNumberMinus,\n            pepIconNumberPlus,\n        ]);\n    }\n}\n","/*\n * Public API Surface of ngx-lib/quantity-selector\n */\nexport * from './quantity-selector.module';\nexport * from './quantity-selector.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {PepQuantitySelectorValidationDirective as ɵb} from './quantity-selector-validation.directive';\nexport {PepQuantitySelectorNumberPipe as ɵa} from './quantity-selector.pipes';"],"names":[],"mappings":";;;;;;;;;;;;;;;;;MAgEa,4BAA4B;IAsKrC,YACY,EAAqB,EACrB,oBAA6C,EAC7C,QAAmB,EACnB,OAAmB,EACnB,SAA2B,EAC3B,gBAAqC;QALrC,OAAE,GAAF,EAAE,CAAmB;QACrB,yBAAoB,GAApB,oBAAoB,CAAyB;QAC7C,aAAQ,GAAR,QAAQ,CAAW;QACnB,YAAO,GAAP,OAAO,CAAY;QACnB,cAAS,GAAT,SAAS,CAAkB;QAC3B,qBAAgB,GAAhB,gBAAgB,CAAqB;QArKxC,QAAG,GAAG,EAAE,CAAC;QAEV,WAAM,GAAG,IAAI,CAAC;QAiBd,oBAAe,GAAG,IAAI,CAAC;QAiBtB,UAAK,GAAG,EAAE,CAAC;QACX,SAAI,GAAiC,IAAI,CAAC;QAC1C,cAAS,GAAG,KAAK,CAAC;QAClB,aAAQ,GAAG,KAAK,CAAC;QACjB,aAAQ,GAAG,KAAK,CAAC;QAElB,eAAU,GAAG,EAAE,CAAC;QAUf,eAAU,GAA2B,4BAA4B,CAAC;QAClE,YAAO,GAAG,CAAC,CAAC;QACZ,iBAAY,GAAG,KAAK,CAAC;QACrB,oBAAe,GAAG,EAAE,CAAC;QAyCtB,aAAQ,GAAG,IAAI,CAAC;QAoBxB,gBAAW,GAAG,IAAI,CAAC;QAEV,SAAI,GAAc,IAAI,CAAC;QACvB,cAAS,GAAG,IAAI,CAAC;QACjB,eAAU,GAAkB,MAAM,CAAC;QACnC,aAAQ,GAAG,KAAK,CAAC;;QAI1B,cAAS,GAAiB,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,gBAAgB,CACrE,uBAAuB,CAAC,YAAY,CACvB,CAAC;QAGlB,gBAAW,GAAyB,IAAI,YAAY,EAAU,CAAC;QAG/D,iBAAY,GAAsC,IAAI,YAAY,EAAuB,CAAC;QAKlF,6BAAwB,GAAG,IAAI,CAAC;QAOxC,0BAAqB,GAAG,CAAC,CAAC;QAC1B,cAAS,GAAG,IAAI,CAAC;QAEjB,eAAU,GAAG,KAAK,CAAC;QACnB,cAAS,GAAG,KAAK,CAAC;QAClB,kBAAa,GAAG,KAAK,CAAC;QAEtB,cAAS,GAAG,KAAK,CAAC;QAClB,aAAQ,GAAe,IAAI,CAAC;QAE5B,8BAAyB,GAAG,IAAI,CAAC;QAEjC,eAAU,GAAG,KAAK,CAAC;QAUf,IAAI,CAAC,UAAU,GAAG,IAAI,OAAO,EAAE,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,IAAI,eAAe,CAAC,CAAC,CAAC,CAAC;KAChD;IAtKD,IACI,KAAK,CAAC,KAAa;QACnB,IAAI,CAAC,KAAK,EAAE;YACR,KAAK,GAAG,EAAE,CAAC;SACd;QAED,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,IAAI,IAAI,CAAC,wBAAwB,EAAE;YAC/B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SACjC;KACJ;IACD,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB;IAGD,IACI,cAAc,CAAC,KAAa;QAC5B,IAAI,CAAC,KAAK,EAAE;YACR,KAAK,GAAG,EAAE,CAAC;SACd;QAED,IAAI,IAAI,CAAC,wBAAwB,EAAE;YAC/B,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;SACzC;QAED,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;KACjC;IACD,IAAI,cAAc;QACd,OAAO,IAAI,CAAC,eAAe,CAAC;KAC/B;IASD,IACI,SAAS,CAAC,KAAa;QACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,KAAK,SAAS,CAAC;KACxC;IACD,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B;IAQD,IACI,gBAAgB,CAAC,KAAU;QAC3B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAE/B,MAAM,QAAQ,GAAG,KAAK,IAAI,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,EAAE,CAAC;QACtE,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;;YAEjC,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE;gBACxB,IAAI,GAAG,CAAC,GAAG,KAAK,qBAAqB,EAAE;oBACnC,GAAG,CAAC,GAAG,GAAG,gCAAgC,CAAC;iBAC9C;qBAAM,IAAI,GAAG,CAAC,GAAG,KAAK,yBAAyB,EAAE;oBAC9C,GAAG,CAAC,GAAG,GAAG,oCAAoC,CAAC;iBAClD;qBAAM,IAAI,GAAG,CAAC,GAAG,KAAK,wBAAwB,EAAE;oBAC7C,GAAG,CAAC,GAAG,GAAG,mCAAmC,CAAC;iBACjD;qBAAM,IAAI,GAAG,CAAC,GAAG,KAAK,wBAAwB,EAAE;oBAC7C,GAAG,CAAC,GAAG,GAAG,mCAAmC,CAAC;iBACjD;aACJ;YAED,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEzB,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClD,YAAY,CAAC,SAAS,CAAC;gBACnB,WAAW,EAAE,OAAO;aACvB,CAAC,CAAC;YAEH,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;YACtC,UAAU,CAAC;gBACP,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;oBAC5C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;iBACtC;aACJ,EAAE,GAAG,CAAC,CAAC;SACX;KACJ;IACD,IAAI,gBAAgB;QAChB,OAAO,IAAI,CAAC,iBAAiB,CAAC;KACjC;IAGD,IACI,OAAO,CAAC,OAAgB;QACxB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,QAAQ,CAAC,WAAW,CACrB,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,gBAAgB,CACnB,CAAC;SACL;aAAM;YACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAClB,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,gBAAgB,CACnB,CAAC;SACL;KACJ;IACD,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB;IAyBD,IAAI,uBAAuB;QACvB,OAAO,IAAI,CAAC,wBAAwB,CAAC;KACxC;IA8BD,OAAO;QACH,MAAM,QAAQ,GAAG,IAAI,wBAAwB,CAAC;YAC1C,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;SAC1B,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;KACvE;IAEO,iBAAiB,CAAC,KAAa;QACnC,IAAI,IAAI,CAAC,wBAAwB,EAAE;YAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACpE;aAAM;YACH,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;SAChC;QAED,IAAI,CAAC,oBAAoB,EAAE,CAAC;KAC/B;IAEO,oBAAoB;QACxB,IAAI,CAAC,oBAAoB,CAAC,oBAAoB,CAC1C,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,GAAG,EACR,IAAI,CAAC,cAAc,CACtB,CAAC;KACL;IAED,IAAI,YAAY;QACZ,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS;cACpB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE;cACjC,IAAI,CAAC,cAAc,CAAC;QAC1B,OAAO,GAAG,CAAC;KACd;IAES,YAAY;QAClB,OAAO,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACrC;IAED,QAAQ;QACJ,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;YACpB,IAAI,IAAI,CAAC,GAAG,KAAK,EAAE,EAAE;gBACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aAC1B;YAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,OAAO,EAAE,CAAC;YAEf,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAClB,IAAI,CAAC,OAAO,CAAC,aAAa,EAC1B,uBAAuB,CAAC,4BAA4B,CACvD,CAAC;SACL;QAED,IAAI,CAAC,cAAc;aACd,YAAY,EAAE;aACd,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,oBAAoB,EAAE,CAAC;aACjD,SAAS,CAAC,CAAC,OAAe;YACvB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;SAChC,CAAC,CAAC;QAEP,IAAI,CAAC,oBAAoB,EAAE,CAAC;KAC/B;IAED,eAAe;;KAEd;IAED,kBAAkB;QACd,IAAI,CAAC,SAAS,EAAE,CAAC;KACpB;IAED,WAAW,CAAC,OAAY;;QAEpB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,KAAK,EAAE,EAAE;YACpC,IAAI,CAAC,OAAO,EAAE,CAAC;SAClB;QAED,UAAU,CAAC;YACP,IAAI,CAAC,mCAAmC,EAAE,CAAC;SAC9C,EAAE,GAAG,CAAC,CAAC;KACX;IAED,WAAW;QACP,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;KAC9B;IAED,IAAI,kBAAkB;QAClB,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,MAAM,CAAC;KAC5D;IAED,gBAAgB,CAAC,EAAE,EAAE,cAAc;;;QAE/B,IAAI,cAAc,KAAK,SAAS,EAAE;YAC9B,cAAc,GAAG,QAAQ,CAAC;SAC7B;QAED,IAAI,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC;QAEtB,OACI,CAAC;YACD,EAAC,MAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,SAAS,0CAAE,QAAQ,CAAC,cAAc,CAAC,CAAA;YACvC,cAAc,KAAK,QAAQ,EAC7B;YACE,MAAM,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC,GAAG,CAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,UAAU,KAAI,IAAI,CAAC;SAC7B;QAED,OAAO,CAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC,IAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;KAC/D;IAED,uCAAuC,CAAC,KAAU,EAAE,MAAM,GAAG,IAAI;QAC7D,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,UAAU,CAAC;QACrD,IAAI,oCAAoC,CAAC;QAEzC,IAAI,cAAc,CAAC;QACnB,IAAI,IAAI,CAAC,UAAU,KAAK,OAAO,EAAE;YAC7B,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;SACpE;aAAM,IAAI,IAAI,CAAC,UAAU,KAAK,MAAM,EAAE;YACnC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YACjE,IAAI,CAAC,cAAc,EAAE;gBACjB,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAClC,WAAW,EACX,WAAW,CACd,CAAC;aACL;SACJ;QAED,IACI,cAAc,CAAC,kBAAkB,KAAK,IAAI;YAC1C,cAAc,CAAC,sBAAsB,KAAK,IAAI,EAChD;YACE,oCAAoC,GAAG,IAAI,CAAC;SAC/C;aAAM;YACH,IAAI,MAAM,EAAE;gBACR,IAAI,cAAc,CAAC,kBAAkB,KAAK,IAAI,EAAE;oBAC5C,oCAAoC,GAAG,cAAc,CAAC,aAAa,CAAC,gBAAgB,CAChF,QAAQ,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAC5B,CAAC,CAAC,CAAC,CAAC;iBACR;qBAAM;oBACH,oCAAoC,GAAG,cAAc,CAAC,kBAAkB,CAAC,gBAAgB,CACrF,QAAQ,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAC5B,CAAC,CAAC,CAAC,CAAC;iBACR;aACJ;iBAAM;gBACH,IAAI,cAAc,CAAC,sBAAsB,KAAK,IAAI,EAAE;oBAChD,MAAM,YAAY,GAAG,cAAc,CAAC,aAAa,CAAC,gBAAgB,CAC9D,QAAQ,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAC5B,CAAC;oBACF,oCAAoC;wBAChC,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;iBAC7C;qBAAM;oBACH,oCAAoC,GAAG,cAAc,CAAC,sBAAsB,CAAC,gBAAgB,CACzF,QAAQ,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,CAC5B,CAAC,CAAC,CAAC,CAAC;iBACR;aACJ;SACJ;QAED,OAAO,oCAAoC,CAAC;KAC/C;IAED,4BAA4B,CAAC,KAAU,EAAE,MAAM,GAAG,IAAI;;QAElD,IAAI,IAAI,CAAC,UAAU,KAAK,MAAM,IAAI,IAAI,CAAC,UAAU,KAAK,OAAO,EAAE;YAC3D,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,uCAAuC,CACzE,KAAK,EACL,MAAM,CACT,CAAC;SACL;QAED,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;KACrC;IAED,mCAAmC;QAC/B,IAAI,IAAI,CAAC,yBAAyB,EAAE;YAChC,MAAM,IAAI,GAAG,IAAI,CAAC,yBAAyB,CAAC;;YAE5C,IAAI,IAAI,YAAY,gBAAgB,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;gBAC1D,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;iBAAM;gBACH,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;gBACnC,UAAU,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;YACD,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;SACzC;KACJ;IAED,UAAU;QACN,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;QAGlD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7C,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;SAChC;KACJ;IAED,kBAAkB,CAAC,KAAU;QACzB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;KAC7B;IAED,kBAAkB,CAAC,KAAU;QACzB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;KAC9B;IAED,aAAa,CAAC,KAAU;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAEtB,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;YAC5C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SACtC;KACJ;IAED,YAAY,CAAC,KAAU;QACnB,IACI,CAAC,KAAK,CAAC,aAAa;YACpB,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EACjD;YACE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC9B;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;KACtB;IAED,OAAO,CAAC,KAAU;QACd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;KACzB;IAED,gBAAgB,CAAC,KAAa;QAC1B,IAAI,GAAG,GAAG,KAAK,CAAC;QAEhB,MAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAC3D,IAAI,CAAC,KAAK,CACb,CAAC;QACF,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QAEnE,GAAG,GAAG,YAAY,KAAK,QAAQ,CAAC;QAEhC,OAAO,GAAG,CAAC;KACd;IAED,MAAM,CAAC,KAAU;QACb,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;QAExD,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE;YACtD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;YAGnB,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE;gBAChC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;aAChC;YAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrC;aAAM;YACH,IAAI,CAAC,mCAAmC,EAAE,CAAC;SAC9C;KACJ;IAED,SAAS,CAAC,KAAK;QACX,MAAM,aAAa,GAAG,KAAsB,CAAC;QAE7C,IAAI,aAAa,CAAC,GAAG,KAAK,OAAO,EAAE;YAC/B,IAAI,CAAC,4BAA4B,CAC7B,aAAa,EACb,CAAC,aAAa,CAAC,QAAQ,CAC1B,CAAC;YACF,OAAO,IAAI,CAAC;SACf;KACJ;IAED,SAAS,CAAC,KAAK;QACX,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAClE;QAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACnB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,4BAA4B,CAAC,IAAI;YACxC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,UAAU,EAAE,KAAK,CAAC,KAAK;SAC1B,CAAC,CAAC;QACH,KAAK,CAAC,eAAe,EAAE,CAAC;KAC3B;IAED,SAAS,CAAC,KAAK;QACX,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAClE;QAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACnB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,4BAA4B,CAAC,KAAK;YACzC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,UAAU,EAAE,KAAK,CAAC,KAAK;SAC1B,CAAC,CAAC;QACH,KAAK,CAAC,eAAe,EAAE,CAAC;KAC3B;IAED,aAAa,CAAC,KAAK;QACf,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACnB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,4BAA4B,CAAC,cAAc;YAClD,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,UAAU,EAAE,KAAK,CAAC,KAAK;SAC1B,CAAC,CAAC;KACN;IAED,YAAY,CAAC,KAAK;QACd,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACnB,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,KAAK,EAAE,4BAA4B,CAAC,aAAa;YACjD,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,UAAU,EAAE,KAAK,CAAC,KAAK;YACvB,SAAS,EAAE,IAAI,CAAC,gBAAgB;SACnC,CAAC,CAAC;KACN;IAED,cAAc,CAAC,OAAe;QAC1B,IAAI,CAAC,SAAS,GAAG,OAAO,GAAG,GAAG,CAAC;QAE/B,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE;YACvB,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SAC3B;KACJ;IAED,SAAS;QACL,IACI,IAAI,CAAC,MAAM;YACX,IAAI,CAAC,MAAM,CAAC,aAAa;YACzB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,GAAG,CAAC,EAC3C;YACE,UAAU,CAAC;gBACP,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;aACnE,EAAE,CAAC,CAAC,CAAC;SACT;KACJ;;AAtgBa,2CAAc,GAAG,iBAAiB,CAAC;AACnC,0CAAa,GAAG,gBAAgB,CAAC;AACjC,iCAAI,GAAG,KAAK,CAAC;AACb,kCAAK,GAAG,KAAK,CAAC;;YA/B/B,SAAS,SAAC;gBACP,QAAQ,EAAE,uBAAuB;gBACjC,o1RAAiD;gBAEjD,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,UAAU,EAAE;oBACR,OAAO,CAAC,UAAU,EAAE;wBAChB,KAAK,CACD,MAAM,EACN,KAAK,CAAC;4BACF,OAAO,EAAE,CAAC;4BACV,SAAS,EAAE,UAAU;yBACxB,CAAC,CACL;wBACD,KAAK,CACD,MAAM,EACN,KAAK,CAAC;4BACF,OAAO,EAAE,CAAC;4BACV,SAAS,EAAE,UAAU;yBACxB,CAAC,CACL;wBACD,UAAU,CAAC,cAAc,EAAE,OAAO,CAAC,gBAAgB,CAAC,CAAC;wBACrD,UAAU,CAAC,cAAc,EAAE,OAAO,CAAC,eAAe,CAAC,CAAC;qBACvD,CAAC;iBACL;;aACJ;;;YArDG,iBAAiB;YAgBjB,uBAAuB;YAdvB,SAAS;YAHT,UAAU;YA2BL,gBAAgB;YAJrB,mBAAmB;;;kBAuClB,KAAK;oBAGL,KAAK;6BAiBL,KAAK;oBAgBL,KAAK;mBACL,KAAK;wBACL,KAAK;uBACL,KAAK;uBACL,KAAK;wBAGL,KAAK;yBASL,KAAK;sBACL,KAAK;2BACL,KAAK;8BACL,KAAK;+BAGL,KAAK;sBAuCL,KAAK;mBAqBL,KAAK;wBACL,KAAK;yBACL,KAAK;uBACL,KAAK;wBAGL,KAAK;0BAKL,MAAM;2BAGN,MAAM;qBAGN,SAAS,SAAC,QAAQ;sBAClB,SAAS,SAAC,SAAS;;;MClMX,sCAAsC;IAK/C,YACY,WAAuB,EACvB,gBAAqC;QADrC,gBAAW,GAAX,WAAW,CAAY;QACvB,qBAAgB,GAAhB,gBAAgB,CAAqB;QAJjD,kBAAa,GAAG,EAAE,CAAC;KAKf;IAEJ,QAAQ;;KAEP;IAGD,QAAQ,CAAC,CAAC;QACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;KAC5D;IAGD,SAAS,CAAC,CAAgB;QACtB,MAAM,aAAa,GAAW,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;QAGhD,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QAEnC,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACtE,IAAI,QAAQ;YAAE,OAAO;;YAChB,CAAC,CAAC,cAAc,EAAE,CAAC;KAC3B;IAED,aAAa,CAAC,KAAa;QACvB,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,cAAc,CACjD,KAAK,EACL,IAAI,CAAC,YAAY,CACpB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,QAAQ,GAAG,QAAQ,GAAG,CAAC,CAAC;KACrE;;;YAxCJ,SAAS,SAAC;gBACP,QAAQ,EAAE,mBAAmB;aAChC;;;YATG,UAAU;YAKL,mBAAmB;;;2BAMvB,KAAK;uBAaL,YAAY,SAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;wBAKjC,YAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;;;MC7B1B,6BAA6B;IACtC,SAAS,CAAC,KAAa,EAAE,YAAqB;QAC1C,MAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;QAEnC,IAAI,QAAQ,KAAK,CAAC,EAAE;YAChB,OAAO,GAAG,CAAC;SACd;aAAM,IAAI,YAAY,EAAE;YACrB,OAAO,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC9B;aAAM;YACH,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;SACrC;KACJ;;;YAZJ,IAAI,SAAC,EAAE,IAAI,EAAE,2BAA2B,EAAE;;;MC6C9B,yBAAyB;IAClC,YAAoB,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAChD,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC;YAC/B,kBAAkB;YAClB,iBAAiB;SACpB,CAAC,CAAC;KACN;;;YA7BJ,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,YAAY;oBACZ,mBAAmB;;oBAEnB,eAAe;oBACf,kBAAkB;oBAClB,cAAc;oBACd,eAAe;oBACf,cAAc;oBACd,aAAa;;oBAEb,eAAe;oBACf,aAAa;oBACb,mBAAmB;iBACtB;gBACD,OAAO,EAAE,CAAC,4BAA4B,CAAC;gBACvC,YAAY,EAAE;oBACV,4BAA4B;oBAC5B,6BAA6B;oBAC7B,sCAAsC;iBACzC;aACJ;;;YAhCG,eAAe;;;ACdnB;;;;ACAA;;;;;;"}