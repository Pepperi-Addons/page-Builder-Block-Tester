import { ChangeDetectionStrategy, Component, ElementRef, Inject, Input, Optional, Renderer2, } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { PepUtilitiesService, PepColorService, } from '@pepperi-addons/ngx-lib';
import { PepIconRegistry } from './icon-registry.service';
export class PepIconComponent {
    constructor(renderer, element, utilitiesService, colorService, iconRegistry, document) {
        this.renderer = renderer;
        this.element = element;
        this.utilitiesService = utilitiesService;
        this.colorService = colorService;
        this.iconRegistry = iconRegistry;
        this.document = document;
        this._spin = false;
        this._fill = null;
    }
    /**
     * If icon spin
     *
     * @memberof PepIconComponent
     */
    set spin(value) {
        this._spin = value;
        this.setSpin();
    }
    /**
     * The icon name. look in (#ICON LIST)
     *
     * @type {PepIconType} See {@link PepIconType}
     * @memberof PepIconComponent
     */
    set name(iconName) {
        if (this.svgIcon) {
            this.element.nativeElement.removeChild(this.svgIcon);
        }
        const svgData = this.iconRegistry.getIcon(iconName);
        this.svgIcon = this.utilitiesService.getSvgElementFromString(this.document, svgData);
        if (this.svgIcon) {
            this.element.nativeElement.appendChild(this.svgIcon);
            this.renderer.addClass(this.svgIcon, 'svg-icon');
            this.setFill();
            this.setSpin();
        }
    }
    /**
     * The fill color of the icon like #cccccc
     *
     * @type {Color}
     * @memberof PepIconComponent
     */
    set fill(value) {
        this._fill = value;
        this.setFill();
    }
    /**
     * Set fill on the svg icon.
     *
     * @private
     * @memberof PepIconComponent
     */
    setFill() {
        if (this.svgIcon && this._fill) {
            const colorProperty = this.svgIcon.classList.contains('stroke')
                ? 'stroke'
                : 'fill';
            this.renderer.setStyle(this.svgIcon, colorProperty, this._fill);
        }
    }
    /**
     * Toggle  spin class by spin property.
     *
     * @private
     * @memberof PepIconComponent
     */
    setSpin() {
        if (this.svgIcon) {
            if (this._spin) {
                this.renderer.addClass(this.svgIcon, 'spin');
            }
            else {
                this.renderer.removeClass(this.svgIcon, 'spin');
            }
        }
    }
}
PepIconComponent.decorators = [
    { type: Component, args: [{
                selector: 'pep-icon',
                template: "<ng-content></ng-content>",
                // template: ` <ng-content></ng-content> `,
                // styles: [
                //     `
                //         :host {
                //             display: flex;
                //             align-items: center;
                //             justify-items: center;
                //             width: inherit;
                //             height: inherit;
                //             align-content: center;
                //             justify-content: center;
                //         }
                //         :host::ng-deep svg {
                //             width: inherit;
                //             height: inherit;
                //         }
                //         :host::ng-deep svg.spin {
                //             animation: rotation 2s infinite linear;
                //         }
                //         @keyframes rotation {
                //             from {
                //                 transform: rotate(0deg);
                //             }
                //             to {
                //                 transform: rotate(359deg);
                //             }
                //         }
                //     `,
                // ],
                changeDetection: ChangeDetectionStrategy.OnPush,
                styles: [":host{display:flex;align-items:center;justify-items:center;width:inherit;height:inherit;align-content:center;justify-content:center}:host::ng-deep svg{width:inherit;height:inherit}:host::ng-deep svg.spin{-webkit-animation:rotation 2s linear infinite;animation:rotation 2s linear infinite}@-webkit-keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}"]
            },] }
];
PepIconComponent.ctorParameters = () => [
    { type: Renderer2 },
    { type: ElementRef },
    { type: PepUtilitiesService },
    { type: PepColorService },
    { type: PepIconRegistry },
    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DOCUMENT,] }] }
];
PepIconComponent.propDecorators = {
    spin: [{ type: Input }],
    name: [{ type: Input }],
    fill: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtbGliL2ljb24vaWNvbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsVUFBVSxFQUVWLE1BQU0sRUFDTixLQUFLLEVBQ0wsUUFBUSxFQUVSLFNBQVMsR0FDWixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUNILG1CQUFtQixFQUNuQixlQUFlLEdBRWxCLE1BQU0seUJBQXlCLENBQUM7QUFDakMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBeUMxRCxNQUFNLE9BQU8sZ0JBQWdCO0lBb0R6QixZQUNZLFFBQW1CLEVBQ25CLE9BQW1CLEVBQ25CLGdCQUFxQyxFQUNyQyxZQUE2QixFQUM3QixZQUE2QixFQUNDLFFBQWE7UUFMM0MsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQUNuQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ25CLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBcUI7UUFDckMsaUJBQVksR0FBWixZQUFZLENBQWlCO1FBQzdCLGlCQUFZLEdBQVosWUFBWSxDQUFpQjtRQUNDLGFBQVEsR0FBUixRQUFRLENBQUs7UUF2RC9DLFVBQUssR0FBRyxLQUFLLENBQUM7UUFvQ2QsVUFBSyxHQUFHLElBQUksQ0FBQztJQW9CbEIsQ0FBQztJQXZESjs7OztPQUlHO0lBQ0gsSUFDSSxJQUFJLENBQUMsS0FBYztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsSUFDSSxJQUFJLENBQUMsUUFBcUI7UUFDMUIsSUFBSSxJQUFJLENBQUMs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XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIEVsZW1lbnRSZWYsXG4gICAgSG9zdEJpbmRpbmcsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIE9wdGlvbmFsLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLFxuICAgIFJlbmRlcmVyMixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICAgIFBlcFV0aWxpdGllc1NlcnZpY2UsXG4gICAgUGVwQ29sb3JTZXJ2aWNlLFxuICAgIElQZXBIc2xDb2xvcixcbn0gZnJvbSAnQHBlcHBlcmktYWRkb25zL25neC1saWInO1xuaW1wb3J0IHsgUGVwSWNvblJlZ2lzdHJ5IH0gZnJvbSAnLi9pY29uLXJlZ2lzdHJ5LnNlcnZpY2UnO1xuaW1wb3J0IHsgUGVwSWNvblR5cGUgfSBmcm9tICcuL2ljb24tZ2VuZXJhdGVkLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdwZXAtaWNvbicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2ljb24uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2ljb24uY29tcG9uZW50LnNjc3MnXSxcbiAgICAvLyB0ZW1wbGF0ZTogYCA8bmctY29udGVudD48L25nLWNvbnRlbnQ+IGAsXG4gICAgLy8gc3R5bGVzOiBbXG4gICAgLy8gICAgIGBcbiAgICAvLyAgICAgICAgIDpob3N0IHtcbiAgICAvLyAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgIC8vICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgLy8gICAgICAgICAgICAganVzdGlmeS1pdGVtczogY2VudGVyO1xuICAgIC8vICAgICAgICAgICAgIHdpZHRoOiBpbmhlcml0O1xuICAgIC8vICAgICAgICAgICAgIGhlaWdodDogaW5oZXJpdDtcbiAgICAvLyAgICAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgLy8gICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIDpob3N0OjpuZy1kZWVwIHN2ZyB7XG4gICAgLy8gICAgICAgICAgICAgd2lkdGg6IGluaGVyaXQ7XG4gICAgLy8gICAgICAgICAgICAgaGVpZ2h0OiBpbmhlcml0O1xuICAgIC8vICAgICAgICAgfVxuXG4gICAgLy8gICAgICAgICA6aG9zdDo6bmctZGVlcCBzdmcuc3BpbiB7XG4gICAgLy8gICAgICAgICAgICAgYW5pbWF0aW9uOiByb3RhdGlvbiAycyBpbmZpbml0ZSBsaW5lYXI7XG4gICAgLy8gICAgICAgICB9XG5cbiAgICAvLyAgICAgICAgIEBrZXlmcmFtZXMgcm90YXRpb24ge1xuICAgIC8vICAgICAgICAgICAgIGZyb20ge1xuICAgIC8vICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICAgICAgdG8ge1xuICAgIC8vICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgYCxcbiAgICAvLyBdLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBQZXBJY29uQ29tcG9uZW50IHtcbiAgICBwcml2YXRlIHN2Z0ljb246IFNWR0VsZW1lbnQ7XG5cbiAgICBwcml2YXRlIF9zcGluID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSWYgaWNvbiBzcGluXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUGVwSWNvbkNvbXBvbmVudFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IHNwaW4odmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fc3BpbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNldFNwaW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWNvbiBuYW1lLiBsb29rIGluICgjSUNPTiBMSVNUKVxuICAgICAqXG4gICAgICogQHR5cGUge1BlcEljb25UeXBlfSBTZWUge0BsaW5rIFBlcEljb25UeXBlfVxuICAgICAqIEBtZW1iZXJvZiBQZXBJY29uQ29tcG9uZW50XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzZXQgbmFtZShpY29uTmFtZTogUGVwSWNvblR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3ZnSWNvbikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5zdmdJY29uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdmdEYXRhID0gdGhpcy5pY29uUmVnaXN0cnkuZ2V0SWNvbihpY29uTmFtZSk7XG4gICAgICAgIHRoaXMuc3ZnSWNvbiA9IHRoaXMudXRpbGl0aWVzU2VydmljZS5nZXRTdmdFbGVtZW50RnJvbVN0cmluZyhcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQsXG4gICAgICAgICAgICBzdmdEYXRhXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLnN2Z0ljb24pIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc3ZnSWNvbik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuc3ZnSWNvbiwgJ3N2Zy1pY29uJyk7XG4gICAgICAgICAgICB0aGlzLnNldEZpbGwoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3BpbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZmlsbCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIGZpbGwgY29sb3Igb2YgdGhlIGljb24gbGlrZSAjY2NjY2NjXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Q29sb3J9XG4gICAgICogQG1lbWJlcm9mIFBlcEljb25Db21wb25lbnRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNldCBmaWxsKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZmlsbCA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNldEZpbGwoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgICAgIHByaXZhdGUgdXRpbGl0aWVzU2VydmljZTogUGVwVXRpbGl0aWVzU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBjb2xvclNlcnZpY2U6IFBlcENvbG9yU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBpY29uUmVnaXN0cnk6IFBlcEljb25SZWdpc3RyeSxcbiAgICAgICAgQE9wdGlvbmFsKCkgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSBkb2N1bWVudDogYW55XG4gICAgKSB7fVxuXG4gICAgLyoqXG4gICAgICogU2V0IGZpbGwgb24gdGhlIHN2ZyBpY29uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyb2YgUGVwSWNvbkNvbXBvbmVudFxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0RmlsbCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3ZnSWNvbiAmJiB0aGlzLl9maWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvclByb3BlcnR5ID0gdGhpcy5zdmdJY29uLmNsYXNzTGlzdC5jb250YWlucygnc3Ryb2tlJylcbiAgICAgICAgICAgICAgICA/ICdzdHJva2UnXG4gICAgICAgICAgICAgICAgOiAnZmlsbCc7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuc3ZnSWNvbiwgY29sb3JQcm9wZXJ0eSwgdGhpcy5fZmlsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgIHNwaW4gY2xhc3MgYnkgc3BpbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlcm9mIFBlcEljb25Db21wb25lbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIHNldFNwaW4oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN2Z0ljb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGluKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLnN2Z0ljb24sICdzcGluJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5zdmdJY29uLCAnc3BpbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIl19