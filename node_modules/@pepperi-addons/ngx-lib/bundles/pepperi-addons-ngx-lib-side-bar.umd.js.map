{"version":3,"file":"pepperi-addons-ngx-lib-side-bar.umd.js","sources":["../../../projects/ngx-lib/side-bar/side-bar.component.ts","../../../projects/ngx-lib/side-bar/side-bar.module.ts","../../../projects/ngx-lib/side-bar/public-api.ts","../../../projects/ngx-lib/side-bar/pepperi-addons-ngx-lib-side-bar.ts"],"sourcesContent":["import {\n    Component,\n    OnInit,\n    Injectable,\n    Input,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    Renderer2,\n} from '@angular/core';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport {\n    trigger,\n    state,\n    style,\n    transition,\n    animate,\n} from '@angular/animations';\nimport {\n    PepCustomizationService,\n    PepLayoutService,\n    PepScreenSizeType,\n} from '@pepperi-addons/ngx-lib';\nimport { IPepSideBarStateChangeEvent, PepSideBarStateType } from './side-bar.model';\nimport { pepIconArrowLeft, pepIconArrowRight } from '@pepperi-addons/ngx-lib/icon';\n\n@Component({\n    selector: 'pep-side-bar',\n    templateUrl: './side-bar.component.html',\n    styleUrls: ['./side-bar.component.scss']\n})\n@Injectable()\nexport class PepSideBarComponent implements OnInit {\n    static ONE_MULTI_BY_DIR_KEY = '--pep-one-multi-by-dir';\n\n    @Input() ignoreResize = false;\n    @Input() showHeader = true;\n    @Input() showFooter = false;\n\n    private _useAsWebComponent = false;\n    private readonly _animationTime = 350; // milliseconds.\n\n    state: PepSideBarStateType = 'open';\n    toggleButtonArrowName: string = pepIconArrowRight.name;\n    isLargeScreen = true;\n\n    @Input()\n    set useAsWebComponent(value: boolean) {\n        if (value) {\n            this.exportFunctionsOnHostElement();\n        }\n    }\n    get useAsWebComponent(): boolean {\n        return this._useAsWebComponent;\n    }\n\n    @Output()\n    stateChange: EventEmitter<IPepSideBarStateChangeEvent> = new EventEmitter<IPepSideBarStateChangeEvent>();\n\n    @ViewChild('sidenav') sidenav: MatSidenav;\n\n    isMouseIn = false;\n    sideBarHeight = '100%';\n\n    screenSize: PepScreenSizeType;\n    PepScreenSizeType = PepScreenSizeType;\n\n    constructor(\n        private hostElement: ElementRef,\n        private renderer: Renderer2,\n        public layoutService: PepLayoutService\n    ) {\n        this.layoutService.onResize$.subscribe((size: PepScreenSizeType) => {\n            this.screenSize = size;\n            this.isLargeScreen = size < PepScreenSizeType.MD;\n        });\n    }\n\n    private exportFunctionsOnHostElement() {\n        // This is for web component usage for use those functions.\n        this.hostElement.nativeElement.open = this.open.bind(this);\n        this.hostElement.nativeElement.close = this.close.bind(this);\n    }\n\n    private setState(state: PepSideBarStateType) {\n        this.state = state;\n        this.toggleButtonArrowName =\n            // state === 'open' ?\n            // (this.layoutService.isRtl() ? pepIconArrowRight.name : pepIconArrowLeft.name) :\n            (this.layoutService.isRtl() ? pepIconArrowLeft.name : pepIconArrowRight.name);\n    }\n\n    private toggleState() {\n        this.setState(this.state === 'close' ? 'open' : 'close');\n    }\n\n    ngOnInit() {\n        document.documentElement.style.setProperty(PepSideBarComponent.ONE_MULTI_BY_DIR_KEY, this.layoutService.isRtl() ? '1' : '-1');\n        this.setState(this.isLargeScreen ? 'open' : 'close');\n    }\n\n    setSideBarHeight(event) {\n        // const from = event.relatedTarget\n        //     ? event.relatedTarget\n        //     : event.fromElement;\n        // const to = event.target ? event.target : event.toElement;\n\n        // if (typeof from === 'undefined' || typeof to === 'undefined') {\n        //     return;\n        // }\n        // this.isMouseIn = true;\n\n        // this.sideBarHeight = window.innerHeight - to.offsetTop + 'px';\n    }\n\n    mouseLeaveSideBar(event) {\n        // const from = event.relatedTarget\n        //     ? event.relatedTarget\n        //     : event.fromElement;\n        // const to = event.target ? event.target : event.toElement;\n\n        // if (typeof from === 'undefined' || typeof to === 'undefined') {\n        //     return;\n        // }\n        // this.sideBarHeight = '100%';\n        // this.isMouseIn = false;\n    }\n\n    open() {\n        if (this.sidenav) {\n            this.sidenav.open();\n        }\n\n        this.state = 'open';\n    }\n\n    close() {\n        if (this.sidenav) {\n            this.sidenav.close();\n        }\n\n        this.state = 'close';\n    }\n\n    toggle() {\n        if (this.sidenav) {\n            // const isOpen = this.sidenav.opened;\n            this.sidenav.toggle();\n        }\n\n        this.toggleState();\n    }\n\n    toggleSideWrapper() {\n        this.toggleState();\n        // Raise event after animation finish.\n        setTimeout(() => {\n            this.stateChange.emit({ state: this.state });\n        }, this._animationTime);\n    }\n\n    toggleSidenav(isOpen: boolean) {\n        this.setState(isOpen ? 'open' : 'close');\n        // Raise event after animation finish.\n        setTimeout(() => {\n            this.stateChange.emit({ state: this.state });\n        }, this._animationTime);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSidenavModule } from '@angular/material/sidenav';\n\nimport { PepNgxLibModule } from '@pepperi-addons/ngx-lib';\nimport {\n    PepIconModule,\n    PepIconRegistry,\n    pepIconSystemClose,\n} from '@pepperi-addons/ngx-lib/icon';\n\nimport { PepSideBarComponent } from './side-bar.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        // Material modules,\n        MatCommonModule,\n        MatIconModule,\n        MatSidenavModule,\n        // ngx-lib modules\n        PepNgxLibModule,\n        PepIconModule,\n    ],\n    exports: [PepSideBarComponent],\n    declarations: [PepSideBarComponent],\n})\nexport class PepSideBarModule {\n    constructor(private pepIconRegistry: PepIconRegistry) {\n        this.pepIconRegistry.registerIcons([pepIconSystemClose]);\n    }\n}\n","/*\n * Public API Surface of ngx-lib/side-bar\n */\nexport * from './side-bar.module';\nexport * from './side-bar.component';\nexport * from './side-bar.model';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["pepIconArrowRight","EventEmitter","PepScreenSizeType","pepIconArrowLeft","Component","Injectable","ElementRef","Renderer2","PepLayoutService","Input","Output","ViewChild","pepIconSystemClose","NgModule","CommonModule","MatCommonModule","MatIconModule","MatSidenavModule","PepNgxLibModule","PepIconModule","PepIconRegistry"],"mappings":"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"}