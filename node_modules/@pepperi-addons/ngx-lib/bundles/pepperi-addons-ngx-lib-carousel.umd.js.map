{"version":3,"file":"pepperi-addons-ngx-lib-carousel.umd.js","sources":["../../../projects/ngx-lib/carousel/carousel-item.directive.ts","../../../projects/ngx-lib/carousel/carousel.component.ts","../../../projects/ngx-lib/carousel/carousel.module.ts","../../../projects/ngx-lib/carousel/public-api.ts","../../../projects/ngx-lib/carousel/pepperi-addons-ngx-lib-carousel.ts"],"sourcesContent":["import {\n    Directive,\n    ElementRef,\n    Input,\n    HostBinding,\n    Inject,\n} from '@angular/core';\n\n@Directive({\n    selector: '[pepCarouselItem]',\n})\nexport class PepCarouselItemDirective {\n    @HostBinding('style.display')\n    display = 'inline-block';\n\n    @Input('dragDisabled')\n    get dragDisabled() {\n        return this._dragDisabled;\n    }\n    set dragDisabled(value: boolean) {\n        this._dragDisabled = value;\n    }\n\n    _dragDisabled = false;\n\n    _elementRef: ElementRef;\n\n    constructor(@Inject(ElementRef) elementRef: ElementRef) {\n        this._elementRef = elementRef;\n    }\n}\n","import {\n    ElementRef,\n    Component,\n    Renderer2,\n    OnDestroy,\n    Input,\n    Output,\n    AfterViewInit,\n    OnChanges,\n    EventEmitter,\n    ViewChild,\n    ContentChildren,\n    AfterViewChecked,\n    QueryList,\n    Inject,\n    HostBinding,\n    HostListener,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nimport { PepCarouselItemDirective } from './carousel-item.directive';\n\n@Component({\n    selector: 'pep-carousel',\n    template: `\n        <div class=\"carousel-content\" #contentRef>\n            <ng-content></ng-content>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                overflow: hidden;\n                display: block;\n            }\n            .carousel-content {\n                height: 100%;\n                overflow: auto;\n                white-space: nowrap;\n            }\n        `,\n    ],\n})\nexport class PepCarouselComponent\n    implements OnDestroy, AfterViewInit, OnChanges, AfterViewChecked {\n    private _index = 0;\n\n    private _scrollbarHidden = false;\n\n    private _disabled = false;\n\n    private _xDisabled = false;\n\n    private _xWheelEnabled = false;\n\n    private _yDisabled = false;\n\n    private _dragDisabled = false;\n\n    private _snapDisabled = false;\n\n    private _snapOffset = 0;\n\n    private _snapDuration = 500;\n\n    private _isDragging = false;\n\n    private _onMouseMoveListener: () => any;\n\n    private _onMouseUpListener: () => any;\n\n    private _onMouseDownListener: () => any;\n\n    private _onScrollListener: () => any;\n\n    private _onDragStartListener: () => any;\n\n    /**\n     * Is the user currently pressing the element\n     */\n    isPressed = false;\n\n    /**\n     * Is the user currently scrolling the element\n     */\n    isScrolling = false;\n\n    scrollTimer: any; // | NodeJS.Timer = -1;\n\n    scrollToTimer: any; // | NodeJS.Timer = -1;\n\n    /**\n     * Is the user currently dragging the element\n     */\n    get isDragging(): boolean {\n        return this._isDragging;\n    }\n\n    /**\n     * The x coordinates on the element\n     */\n    downX = 0;\n\n    /**\n     * The y coordinates on the element\n     */\n    downY = 0;\n\n    displayType: string | null = 'block';\n\n    elWidth: string | null = null;\n\n    elHeight: string | null = null;\n\n    /**\n     * The parentNode of carousel Element\n     */\n    parentNode: HTMLElement;\n\n    /**\n     * The carousel Element\n     */\n\n    @ViewChild('contentRef', { static: true }) _contentRef: ElementRef;\n\n    @ContentChildren(PepCarouselItemDirective, { descendants: true })\n    _children: QueryList<PepCarouselItemDirective>;\n\n    @HostBinding('style.pointer-events') _pointerEvents = 'auto';\n\n    wrapper: HTMLDivElement | null;\n\n    scrollbarWidth: string | null = null;\n\n    get currIndex() {\n        return this._index;\n    }\n    set currIndex(value) {\n        if (value !== this._index) {\n            this._index = value;\n            this.indexChanged.emit(value);\n        }\n    }\n\n    isAnimating = false;\n\n    prevChildrenLength = 0;\n\n    indexBound = 0;\n\n    @Output() dsInitialized = new EventEmitter<void>();\n\n    @Output() indexChanged = new EventEmitter<number>();\n\n    @Output() reachesLeftBound = new EventEmitter<boolean>();\n\n    @Output() reachesRightBound = new EventEmitter<boolean>();\n\n    @Output() snapAnimationFinished = new EventEmitter<number>();\n\n    @Output() dragStart = new EventEmitter<void>();\n\n    @Output() dragEnd = new EventEmitter<void>();\n\n    /**\n     * Whether the scrollbar is hidden\n     */\n    @Input('scrollbarHidden')\n    get scrollbarHidden() {\n        return this._scrollbarHidden;\n    }\n    set scrollbarHidden(value: boolean) {\n        this._scrollbarHidden = value;\n    }\n\n    /**\n     * Whether horizontally and vertically draging and scrolling is be disabled\n     */\n    @Input('disabled')\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(value: boolean) {\n        this._disabled = value;\n    }\n\n    /**\n     * Whether horizontally dragging and scrolling is be disabled\n     */\n    @Input('xDisabled')\n    get xDisabled() {\n        return this._xDisabled;\n    }\n    set xDisabled(value: boolean) {\n        this._xDisabled = value;\n    }\n\n    /**\n     * Whether vertically dragging and scrolling events is disabled\n     */\n    @Input('yDisabled')\n    get yDisabled() {\n        return this._yDisabled;\n    }\n    set yDisabled(value: boolean) {\n        this._yDisabled = value;\n    }\n\n    /**\n     * Whether scrolling horizontally with mouse wheel is enabled\n     */\n    @Input('xWheelEnabled')\n    get xWheelEnabled() {\n        return this._xWheelEnabled;\n    }\n    set xWheelEnabled(value: boolean) {\n        this._xWheelEnabled = value;\n    }\n\n    @Input('dragDisabled')\n    get dragDisabled() {\n        return this._dragDisabled;\n    }\n    set dragDisabled(value: boolean) {\n        this._dragDisabled = value;\n    }\n\n    @Input('snapDisabled')\n    get snapDisabled() {\n        return this._snapDisabled;\n    }\n    set snapDisabled(value: boolean) {\n        this._snapDisabled = value;\n    }\n\n    @Input('snapOffset')\n    get snapOffset() {\n        return this._snapOffset;\n    }\n    set snapOffset(value: number) {\n        this._snapOffset = value;\n    }\n\n    @Input('snapDuration')\n    get snapDuration() {\n        return this._snapDuration;\n    }\n    set snapDuration(value: number) {\n        this._snapDuration = value;\n    }\n\n    constructor(\n        @Inject(ElementRef) private _elementRef: ElementRef,\n        @Inject(Renderer2) private _renderer: Renderer2,\n        @Inject(DOCUMENT) private _document: any\n    ) {\n        this.scrollbarWidth = `${this.getScrollbarWidth()}px`;\n    }\n\n    ngOnChanges() {\n        this.setScrollBar();\n\n        if (this.xDisabled || this.disabled || this._scrollbarHidden) {\n            this.disableScroll('x');\n        } else {\n            this.enableScroll('x');\n        }\n\n        if (this.yDisabled || this.disabled) {\n            this.disableScroll('y');\n        } else {\n            this.enableScroll('y');\n        }\n    }\n\n    ngAfterViewInit() {\n        // auto assign computed css\n        this._renderer.setAttribute(\n            this._contentRef.nativeElement,\n            'drag-scroll',\n            'true'\n        );\n\n        this.displayType =\n            typeof window !== 'undefined'\n                ? window.getComputedStyle(this._elementRef.nativeElement)\n                    .display\n                : 'block';\n\n        this._renderer.setStyle(\n            this._contentRef.nativeElement,\n            'display',\n            this.displayType\n        );\n        this._renderer.setStyle(\n            this._contentRef.nativeElement,\n            'whiteSpace',\n            'noWrap'\n        );\n\n        // store ele width height for later user\n        this.markElDimension();\n\n        this._renderer.setStyle(\n            this._contentRef.nativeElement,\n            'width',\n            this.elWidth\n        );\n        this._renderer.setStyle(\n            this._contentRef.nativeElement,\n            'height',\n            this.elHeight\n        );\n\n        if (this.wrapper) {\n            this.checkScrollbar();\n        }\n\n        this._onMouseDownListener = this._renderer.listen(\n            this._contentRef.nativeElement,\n            'mousedown',\n            this.onMouseDownHandler.bind(this)\n        );\n        this._onScrollListener = this._renderer.listen(\n            this._contentRef.nativeElement,\n            'scroll',\n            this.onScrollHandler.bind(this)\n        );\n        // prevent Firefox from dragging images\n        this._onDragStartListener = this._renderer.listen(\n            'document',\n            'dragstart',\n            (e) => {\n                e.preventDefault();\n            }\n        );\n        this.checkNavStatus();\n        this.dsInitialized.emit();\n        this.adjustMarginToLastChild();\n    }\n\n    ngAfterViewChecked() {\n        // avoid extra checks\n        if (this._children.length !== this.prevChildrenLength) {\n            this.markElDimension();\n            this.checkScrollbar();\n            this.prevChildrenLength = this._children.length;\n            this.checkNavStatus();\n        }\n    }\n\n    ngOnDestroy() {\n        this._renderer.setAttribute(\n            this._contentRef.nativeElement,\n            'drag-scroll',\n            'false'\n        );\n        if (this._onMouseDownListener) {\n            this._onMouseDownListener = this._onMouseDownListener();\n        }\n        if (this._onScrollListener) {\n            this._onScrollListener = this._onScrollListener();\n        }\n        if (this._onDragStartListener) {\n            this._onDragStartListener = this._onDragStartListener();\n        }\n    }\n\n    onMouseMoveHandler(event: MouseEvent) {\n        this.onMouseMove(event);\n    }\n\n    onMouseMove(event: MouseEvent) {\n        if (this.isPressed && !this.disabled) {\n            // Workaround for prevent scroll stuck if browser lost focus\n            // MouseEvent.buttons not support by Safari\n            if (!event.buttons && !event.which) {\n                return this.onMouseUpHandler(event);\n            }\n\n            this._pointerEvents = 'none';\n            this._setIsDragging(true);\n\n            // Drag X\n            if (!this.xDisabled && !this.dragDisabled) {\n                const clientX = (event as MouseEvent).clientX;\n                this._contentRef.nativeElement.scrollLeft =\n                    this._contentRef.nativeElement.scrollLeft -\n                    clientX +\n                    this.downX;\n                this.downX = clientX;\n            }\n\n            // Drag Y\n            if (!this.yDisabled && !this.dragDisabled) {\n                const clientY = (event as MouseEvent).clientY;\n                this._contentRef.nativeElement.scrollTop =\n                    this._contentRef.nativeElement.scrollTop -\n                    clientY +\n                    this.downY;\n                this.downY = clientY;\n            }\n        }\n    }\n\n    onMouseDownHandler(event: MouseEvent) {\n        const carouselItem: PepCarouselItemDirective | null = this.locateCarouselItem(\n            event.target as Element\n        );\n        if (carouselItem && carouselItem.dragDisabled) {\n            return;\n        }\n\n        const isTouchEvent = event.type === 'touchstart';\n\n        this._startGlobalListening(isTouchEvent);\n        this.isPressed = true;\n\n        const mouseEvent = event as MouseEvent;\n        this.downX = mouseEvent.clientX;\n        this.downY = mouseEvent.clientY;\n\n        clearTimeout(this.scrollToTimer as number);\n    }\n\n    onScrollHandler() {\n        this.checkNavStatus();\n        if (!this.isPressed && !this.isAnimating && !this.snapDisabled) {\n            this.isScrolling = true;\n            clearTimeout(this.scrollTimer as number);\n            this.scrollTimer = setTimeout(() => {\n                this.isScrolling = false;\n                this.locateCurrentIndex(true);\n            }, 500);\n        } else {\n            this.locateCurrentIndex();\n        }\n    }\n\n    onMouseUpHandler(event: MouseEvent) {\n        if (this.isPressed) {\n            this.isPressed = false;\n            this._pointerEvents = 'auto';\n            this._setIsDragging(false);\n            if (!this.snapDisabled) {\n                this.locateCurrentIndex(true);\n            } else {\n                this.locateCurrentIndex();\n            }\n            this._stopGlobalListening();\n        }\n    }\n\n    /*\n     * Nav button\n     */\n    moveLeft() {\n        if (this.currIndex !== 0 || this.snapDisabled) {\n            this.currIndex--;\n            clearTimeout(this.scrollToTimer as number);\n            this.scrollTo(\n                this._contentRef.nativeElement,\n                this.toChildrenLocation(),\n                this.snapDuration\n            );\n        }\n    }\n\n    moveRight() {\n        const container = this.wrapper || this.parentNode;\n        const containerWidth = container ? container.clientWidth : 0;\n\n        if (\n            !this.isScrollReachesRightEnd() &&\n            this.currIndex <\n            this.maximumIndex(containerWidth, this._children.toArray())\n        ) {\n            this.currIndex++;\n            clearTimeout(this.scrollToTimer as number);\n            this.scrollTo(\n                this._contentRef.nativeElement,\n                this.toChildrenLocation(),\n                this.snapDuration\n            );\n        }\n    }\n\n    moveTo(index: number) {\n        const container = this.wrapper || this.parentNode;\n        const containerWidth = container ? container.clientWidth : 0;\n        if (\n            index >= 0 &&\n            index !== this.currIndex &&\n            this.currIndex <=\n            this.maximumIndex(containerWidth, this._children.toArray())\n        ) {\n            this.currIndex = Math.min(\n                index,\n                this.maximumIndex(containerWidth, this._children.toArray())\n            );\n            clearTimeout(this.scrollToTimer as number);\n            this.scrollTo(\n                this._contentRef.nativeElement,\n                this.toChildrenLocation(),\n                this.snapDuration\n            );\n        }\n    }\n\n    checkNavStatus() {\n        setTimeout(() => {\n            const onlyOneItem = Boolean(this._children.length <= 1);\n            const containerIsLargerThanContent = Boolean(\n                this._contentRef.nativeElement.scrollWidth <=\n                this._contentRef.nativeElement.clientWidth\n            );\n            if (onlyOneItem || containerIsLargerThanContent) {\n                // only one element\n                this.reachesLeftBound.emit(true);\n                this.reachesRightBound.emit(true);\n            } else if (this.isScrollReachesRightEnd()) {\n                // reached right end\n                this.reachesLeftBound.emit(false);\n                this.reachesRightBound.emit(true);\n            } else if (\n                this._contentRef.nativeElement.scrollLeft === 0 &&\n                this._contentRef.nativeElement.scrollWidth >\n                this._contentRef.nativeElement.clientWidth\n            ) {\n                // reached left end\n                this.reachesLeftBound.emit(true);\n                this.reachesRightBound.emit(false);\n            } else {\n                // in the middle\n                this.reachesLeftBound.emit(false);\n                this.reachesRightBound.emit(false);\n            }\n        }, 0);\n    }\n\n    @HostListener('wheel', ['$event'])\n    public onWheel(event: WheelEvent) {\n        if (this._xWheelEnabled) {\n            event.preventDefault();\n\n            if (this._snapDisabled) {\n                this._contentRef.nativeElement.scrollBy(event.deltaY, 0);\n            } else {\n                if (event.deltaY < 0) {\n                    this.moveLeft();\n                } else if (event.deltaY > 0) {\n                    this.moveRight();\n                }\n            }\n        }\n    }\n\n    @HostListener('window:resize')\n    public onWindowResize() {\n        this.refreshWrapperDimensions();\n        this.checkNavStatus();\n    }\n\n    private _setIsDragging(value: boolean) {\n        if (this._isDragging === value) {\n            return;\n        }\n\n        this._isDragging = value;\n        value ? this.dragStart.emit() : this.dragEnd.emit();\n    }\n\n    private _startGlobalListening(isTouchEvent: boolean) {\n        if (!this._onMouseMoveListener) {\n            const eventName = isTouchEvent ? 'touchmove' : 'mousemove';\n            this._onMouseMoveListener = this._renderer.listen(\n                'document',\n                eventName,\n                this.onMouseMoveHandler.bind(this)\n            );\n        }\n\n        if (!this._onMouseUpListener) {\n            const eventName = isTouchEvent ? 'touchend' : 'mouseup';\n            this._onMouseUpListener = this._renderer.listen(\n                'document',\n                eventName,\n                this.onMouseUpHandler.bind(this)\n            );\n        }\n    }\n\n    private _stopGlobalListening() {\n        if (this._onMouseMoveListener) {\n            this._onMouseMoveListener = this._onMouseMoveListener();\n        }\n\n        if (this._onMouseUpListener) {\n            this._onMouseUpListener = this._onMouseUpListener();\n        }\n    }\n\n    private disableScroll(axis: string): void {\n        this._renderer.setStyle(\n            this._contentRef.nativeElement,\n            `overflow-${axis}`,\n            'hidden'\n        );\n    }\n\n    private enableScroll(axis: string): void {\n        this._renderer.setStyle(\n            this._contentRef.nativeElement,\n            `overflow-${axis}`,\n            'auto'\n        );\n    }\n\n    private hideScrollbar(): void {\n        if (\n            this._contentRef.nativeElement.style.display !== 'none' &&\n            !this.wrapper\n        ) {\n            this.parentNode = this._contentRef.nativeElement.parentNode;\n\n            // create container element\n            this.wrapper = this._renderer.createElement('div');\n            this._renderer.addClass(this.wrapper, 'carousel-wrapper');\n            // this._renderer.setAttribute(this.wrapper, 'class', 'carousel-wrapper');\n            // this._renderer.addClass(this.wrapper, 'carousel-container');\n\n            this.refreshWrapperDimensions();\n\n            this._renderer.setStyle(this.wrapper, 'overflow', 'hidden');\n\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'width',\n                `calc(100% + ${this.scrollbarWidth})`\n            );\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'height',\n                `calc(100% + ${this.scrollbarWidth})`\n            );\n\n            // Append container element to component element.\n            this._renderer.appendChild(\n                this._elementRef.nativeElement,\n                this.wrapper\n            );\n\n            // Append content element to container element.\n            this._renderer.appendChild(\n                this.wrapper,\n                this._contentRef.nativeElement\n            );\n\n            this.adjustMarginToLastChild();\n        }\n    }\n\n    private showScrollbar(): void {\n        if (this.wrapper) {\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'width',\n                '100%'\n            );\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'height',\n                this.wrapper.style.height\n            );\n            if (this.parentNode !== null) {\n                this.parentNode.removeChild(this.wrapper);\n                this.parentNode.appendChild(this._contentRef.nativeElement);\n            }\n            this.wrapper = null;\n\n            this.adjustMarginToLastChild();\n        }\n    }\n\n    private checkScrollbar() {\n        if (\n            this._contentRef.nativeElement.scrollWidth <=\n            this._contentRef.nativeElement.clientWidth\n        ) {\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'height',\n                '100%'\n            );\n        } else {\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'height',\n                `calc(100% + ${this.scrollbarWidth})`\n            );\n        }\n        if (\n            this._contentRef.nativeElement.scrollHeight <=\n            this._contentRef.nativeElement.clientHeight\n        ) {\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'width',\n                '100%'\n            );\n        } else {\n            this._renderer.setStyle(\n                this._contentRef.nativeElement,\n                'width',\n                `calc(100% + ${this.scrollbarWidth})`\n            );\n        }\n    }\n\n    private setScrollBar(): void {\n        if (this.scrollbarHidden) {\n            this.hideScrollbar();\n        } else {\n            this.showScrollbar();\n        }\n    }\n\n    private getScrollbarWidth(): number {\n        /**\n         * Browser Scrollbar Widths (2016)\n         * OSX (Chrome, Safari, Firefox) - 15px\n         * Windows XP (IE7, Chrome, Firefox) - 17px\n         * Windows 7 (IE10, IE11, Chrome, Firefox) - 17px\n         * Windows 8.1 (IE11, Chrome, Firefox) - 17px\n         * Windows 10 (IE11, Chrome, Firefox) - 17px\n         * Windows 10 (Edge 12/13) - 12px\n         */\n        const outer = this._renderer.createElement('div');\n        this._renderer.setStyle(outer, 'visibility', 'hidden');\n        this._renderer.setStyle(outer, 'width', '100px');\n        this._renderer.setStyle(outer, 'msOverflowStyle', 'scrollbar'); // needed for WinJS apps\n        // document.body.appendChild(outer);\n        this._renderer.appendChild(this._document.body, outer);\n        // this._renderer.appendChild(this._renderer.selectRootElement('body'), outer);\n        const widthNoScroll = outer.offsetWidth;\n        // force scrollbars\n        this._renderer.setStyle(outer, 'overflow', 'scroll');\n\n        // add innerdiv\n        const inner = this._renderer.createElement('div');\n        this._renderer.setStyle(inner, 'width', '100%');\n        this._renderer.appendChild(outer, inner);\n\n        const widthWithScroll = inner.offsetWidth;\n\n        // remove divs\n        this._renderer.removeChild(this._document.body, outer);\n\n        /**\n         * Scrollbar width will be 0 on Mac OS with the\n         * default \"Only show scrollbars when scrolling\" setting (Yosemite and up).\n         * setting default width to 20;\n         */\n        return widthNoScroll - widthWithScroll || 20;\n    }\n\n    private refreshWrapperDimensions() {\n        if (this.wrapper) {\n            const height =\n                this._elementRef.nativeElement.style.height ||\n                this._elementRef.nativeElement.offsetHeight;\n\n            this._renderer.setStyle(this.wrapper, 'width', '100%');\n            this._renderer.setStyle(\n                this.wrapper,\n                'height',\n                height === 0 ? 'auto' : height + 'px'\n            );\n        }\n    }\n\n    /*\n     * The below solution is heavily inspired from\n     * https://gist.github.com/andjosh/6764939\n     */\n    private scrollTo(element: Element, to: number, duration: number) {\n        this.isAnimating = true;\n        const start = element.scrollLeft,\n            change = to - start - this.snapOffset,\n            increment = 20;\n        let currentTime = 0;\n\n        // t = current time\n        // b = start value\n        // c = change in value\n        // d = duration\n        const easeInOutQuad = (t: number, b: number, c: number, d: number) => {\n            t /= d / 2;\n            if (t < 1) {\n                return (c / 2) * t * t + b;\n            }\n            t--;\n            return (-c / 2) * (t * (t - 2) - 1) + b;\n        };\n\n        const animateScroll = () => {\n            currentTime += increment;\n            element.scrollLeft = easeInOutQuad(\n                currentTime,\n                start,\n                change,\n                duration\n            );\n            if (currentTime < duration) {\n                this.scrollToTimer = setTimeout(animateScroll, increment);\n            } else {\n                // run one more frame to make sure the animation is fully finished\n                setTimeout(() => {\n                    this.isAnimating = false;\n                    this.snapAnimationFinished.emit(this.currIndex);\n                }, increment);\n            }\n        };\n        animateScroll();\n    }\n\n    private locateCurrentIndex(snap?: boolean) {\n        this.currentChildWidth(\n            (\n                currentChildWidth,\n                nextChildrenWidth,\n                childrenWidth,\n                idx: number,\n                stop\n            ) => {\n                if (\n                    this._contentRef.nativeElement.scrollLeft >=\n                    childrenWidth &&\n                    this._contentRef.nativeElement.scrollLeft <=\n                    nextChildrenWidth\n                ) {\n                    if (\n                        nextChildrenWidth -\n                        this._contentRef.nativeElement.scrollLeft >\n                        currentChildWidth / 2 &&\n                        !this.isScrollReachesRightEnd()\n                    ) {\n                        // roll back scrolling\n                        if (!this.isAnimating) {\n                            this.currIndex = idx;\n                        }\n                        if (snap) {\n                            this.scrollTo(\n                                this._contentRef.nativeElement,\n                                childrenWidth,\n                                this.snapDuration\n                            );\n                        }\n                    } else if (\n                        this._contentRef.nativeElement.scrollLeft !== 0\n                    ) {\n                        // forward scrolling\n                        if (!this.isAnimating) {\n                            this.currIndex = idx + 1;\n                        }\n                        if (snap) {\n                            this.scrollTo(\n                                this._contentRef.nativeElement,\n                                childrenWidth + currentChildWidth,\n                                this.snapDuration\n                            );\n                        }\n                    }\n                    stop();\n                } else if (idx + 1 === this._children.length - 1) {\n                    // reaches last index\n                    if (!this.isAnimating) {\n                        this.currIndex = idx + 1;\n                    }\n                    stop();\n                }\n            }\n        );\n    }\n\n    private currentChildWidth(\n        cb: (\n            currentClildWidth: number,\n            nextChildrenWidth: number,\n            childrenWidth: number,\n            index: number,\n            breakFunc: () => void\n        ) => void\n    ) {\n        let childrenWidth = 0;\n        let shouldBreak = false;\n        const breakFunc = function () {\n            shouldBreak = true;\n        };\n        const childrenArr = this._children.toArray();\n\n        for (let i = 0; i < childrenArr.length; i++) {\n            if (i === childrenArr.length - 1) {\n                break;\n            }\n            if (shouldBreak) {\n                break;\n            }\n\n            const nextChildrenWidth =\n                childrenWidth +\n                childrenArr[i + 1]._elementRef.nativeElement.clientWidth;\n            const currentClildWidth =\n                childrenArr[i]._elementRef.nativeElement.clientWidth;\n            cb(\n                currentClildWidth,\n                nextChildrenWidth,\n                childrenWidth,\n                i,\n                breakFunc\n            );\n\n            childrenWidth += currentClildWidth;\n        }\n    }\n\n    private toChildrenLocation(): number {\n        let to = 0;\n        const childrenArr = this._children.toArray();\n        for (let i = 0; i < this.currIndex; i++) {\n            to += childrenArr[i]._elementRef.nativeElement.clientWidth;\n        }\n        return to;\n    }\n\n    private locateCarouselItem(\n        element: Element\n    ): PepCarouselItemDirective | null {\n        let item: PepCarouselItemDirective | null = null;\n        const childrenArr = this._children.toArray();\n        for (let i = 0; i < childrenArr.length; i++) {\n            if (element === childrenArr[i]._elementRef.nativeElement) {\n                item = childrenArr[i];\n            }\n        }\n        return item;\n    }\n\n    private markElDimension() {\n        if (this.wrapper) {\n            this.elWidth = this.wrapper.style.width;\n            this.elHeight = this.wrapper.style.height;\n        } else {\n            this.elWidth =\n                this._elementRef.nativeElement.style.width ||\n                this._elementRef.nativeElement.offsetWidth + 'px';\n            this.elHeight =\n                this._elementRef.nativeElement.style.height ||\n                this._elementRef.nativeElement.offsetHeight + 'px';\n        }\n        const container = this.wrapper || this.parentNode;\n        const containerWidth = container ? container.clientWidth : 0;\n        if (this._children.length > 1) {\n            this.indexBound = this.maximumIndex(\n                containerWidth,\n                this._children.toArray()\n            );\n        }\n    }\n\n    private maximumIndex(\n        containerWidth: number,\n        childrenElements: PepCarouselItemDirective[]\n    ): number {\n        let count = 0;\n        let childrenWidth = 0;\n        for (let i = 0; i <= childrenElements.length; i++) {\n            // last N element\n            const carouselItemDirective: PepCarouselItemDirective =\n                childrenElements[childrenElements.length - 1 - i];\n            if (!carouselItemDirective) {\n                break;\n            } else {\n                const nativeElement =\n                    carouselItemDirective._elementRef.nativeElement;\n                let itemWidth = nativeElement.clientWidth;\n                if (itemWidth === 0 && nativeElement.firstElementChild) {\n                    itemWidth =\n                        carouselItemDirective._elementRef.nativeElement\n                            .firstElementChild.clientWidth;\n                }\n                childrenWidth += itemWidth;\n                if (childrenWidth < containerWidth) {\n                    count++;\n                } else {\n                    break;\n                }\n            }\n        }\n        return childrenElements.length - count;\n    }\n\n    private isScrollReachesRightEnd(): boolean {\n        const scrollLeftPos =\n            this._contentRef.nativeElement.scrollLeft +\n            this._contentRef.nativeElement.offsetWidth;\n        return scrollLeftPos >= this._contentRef.nativeElement.scrollWidth;\n    }\n\n    /**\n     * adds a margin right style to the last child element which will resolve the issue\n     * of last item gets cutoff.\n     */\n    private adjustMarginToLastChild(): void {\n        // if (this._children && this._children.length > 0 && this.hideScrollbar) {\n        //     const childrenArr = this._children.toArray();\n        //     const lastItem = childrenArr[childrenArr.length - 1]._elementRef.nativeElement;\n        //     if (this.wrapper && childrenArr.length > 1) {\n        //         this._renderer.setStyle(lastItem, 'margin-right', this.scrollbarWidth);\n        //     } else {\n        //         this._renderer.setStyle(lastItem, 'margin-right', 0);\n        //     }\n        // }\n    }\n}\n","import { NgModule } from '@angular/core';\n\nimport { PepCarouselComponent } from './carousel.component';\nimport { PepCarouselItemDirective } from './carousel-item.directive';\n\n@NgModule({\n    exports: [PepCarouselComponent, PepCarouselItemDirective],\n    declarations: [PepCarouselComponent, PepCarouselItemDirective],\n})\nexport class PepCarouselModule {}\n","/*\n * Public API Surface of carousel\n */\nexport * from './carousel.module';\nexport * from './carousel.component';\nexport * from './carousel-item.directive';\n// export * from './carousel.model';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Directive","ElementRef","Inject","HostBinding","Input","EventEmitter","Component","Renderer2","DOCUMENT","ViewChild","ContentChildren","Output","HostListener","NgModule"],"mappings":"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"}