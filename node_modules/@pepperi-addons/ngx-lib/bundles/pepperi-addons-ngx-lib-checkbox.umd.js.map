{"version":3,"file":"pepperi-addons-ngx-lib-checkbox.umd.js","sources":["../../../projects/ngx-lib/checkbox/checkbox.component.ts","../../../projects/ngx-lib/checkbox/checkbox.module.ts","../../../projects/ngx-lib/checkbox/public-api.ts","../../../projects/ngx-lib/checkbox/pepperi-addons-ngx-lib-checkbox.ts"],"sourcesContent":["import {\n    Component,\n    OnInit,\n    Input,\n    Output,\n    EventEmitter,\n    ChangeDetectionStrategy,\n    OnDestroy,\n    Renderer2,\n    ElementRef,\n    Optional,\n    OnChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { MatCheckboxChange } from '@angular/material/checkbox';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n    PepCustomizationService,\n    PepLayoutType,\n    PepHorizontalAlignment,\n    DEFAULT_HORIZONTAL_ALIGNMENT,\n    PepCheckboxFieldType,\n    PepCheckboxField,\n} from '@pepperi-addons/ngx-lib';\n\n@Component({\n    selector: 'pep-checkbox',\n    templateUrl: './checkbox.component.html',\n    styleUrls: ['./checkbox.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PepCheckboxComponent implements OnInit, OnChanges, OnDestroy {\n    @Input() key = '';\n    @Input() value: boolean = false;\n    @Input() label = '';\n\n    private _type: PepCheckboxFieldType = 'checkbox'; // || 'booleanText'\n    @Input()\n    set type(value: PepCheckboxFieldType) {\n        this._type = value;\n        this.setAdditionalValueObject();\n    }\n    get type(): PepCheckboxFieldType {\n        return this._type;\n    }\n\n    @Input() mandatory = false;\n    @Input() disabled = false;\n    @Input() readonly = false;\n    @Input() xAlignment: PepHorizontalAlignment = DEFAULT_HORIZONTAL_ALIGNMENT;\n    @Input() rowSpan = 1;\n\n    private _additionalValue: any = undefined;\n    @Input()\n    set additionalValue(value: any) {\n        this._additionalValue = value;\n        this.setAdditionalValueObject();\n    }\n    get additionalValue(): any {\n        return this._additionalValue;\n    }\n\n    controlType = 'checkbox';\n\n    @Input() form: FormGroup = null;\n    @Input() isActive = false;\n    @Input() showTitle = true;\n    @Input() renderTitle = true;\n    @Input() layoutType: PepLayoutType = 'form';\n\n    private _visible = true;\n    @Input()\n    set visible(visible: boolean) {\n        this._visible = visible;\n        if (visible) {\n            this.renderer.removeClass(\n                this.element.nativeElement,\n                'hidden-element'\n            );\n        } else {\n            this.renderer.addClass(\n                this.element.nativeElement,\n                'hidden-element'\n            );\n        }\n    }\n    get visible(): boolean {\n        return this._visible;\n    }\n\n    @Output()\n    valueChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n    standAlone = false;\n\n    additionalValueObject: any;\n    public jsonLib = JSON;\n\n    constructor(\n        private renderer: Renderer2,\n        private customizationService: PepCustomizationService,\n        private element: ElementRef,\n        private translate: TranslateService\n    ) { }\n\n    private setAdditionalValueObject() {\n        if (this.additionalValue && this.type === 'booleanText') {\n            try {\n                if (typeof this.additionalValue === 'string') {\n                    this.additionalValueObject = JSON.parse(\n                        this.additionalValue\n                    );\n                } else {\n                    this.additionalValueObject = this.additionalValue;\n                }\n            } catch {\n                this.additionalValueObject = {\n                    CheckedText: this.translate.instant('CHECKBOX.TRUE'),\n                    UncheckedText: this.translate.instant('CHECKBOX.FALSE'),\n                };\n            }\n        }\n    }\n\n    private setDefaultForm(): void {\n        const pepField = new PepCheckboxField({\n            key: this.key,\n            value: this.value,\n            mandatory: this.mandatory,\n            readonly: this.readonly,\n            disabled: this.disabled,\n        });\n        this.form = this.customizationService.getDefaultFromGroup(pepField);\n    }\n\n    ngOnInit(): void {\n        if (this.form === null) {\n            this.standAlone = true;\n            this.setDefaultForm();\n\n            this.renderer.addClass(\n                this.element.nativeElement,\n                PepCustomizationService.STAND_ALONE_FIELD_CLASS_NAME\n            );\n        }\n    }\n\n    ngOnChanges(changes: any): void {\n        if (this.standAlone) {\n            this.setDefaultForm();\n        }\n    }\n\n    ngOnDestroy(): void {\n        //\n    }\n\n    onMaterialChange(e: MatCheckboxChange): void {\n        this.changeValue(e.checked);\n    }\n\n    toggleChecked(event: Event): void {\n        if (!this.disabled) {\n            const isChecked: boolean =\n                this.value ? true : false;\n            const newValue = !isChecked;\n            this.value = newValue;\n            this.changeValue(newValue);\n        }\n    }\n\n    changeValue(value: any): void {\n        this.customizationService.updateFormFieldValue(\n            this.form,\n            this.key,\n            value\n        );\n        this.valueChange.emit(value);\n    }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatCommonModule } from '@angular/material/core';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { PepNgxLibModule } from '@pepperi-addons/ngx-lib';\nimport {\n    PepIconModule,\n    PepIconRegistry,\n    pepIconSystemBolt,\n} from '@pepperi-addons/ngx-lib/icon';\nimport { PepFieldTitleModule } from '@pepperi-addons/ngx-lib/field-title';\n\nimport { PepCheckboxComponent } from './checkbox.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        // Material modules\n        MatCommonModule,\n        MatFormFieldModule,\n        MatCheckboxModule,\n        MatIconModule,\n        // ngx-lib modules\n        PepNgxLibModule,\n        PepIconModule,\n        PepFieldTitleModule,\n    ],\n    exports: [PepCheckboxComponent],\n    declarations: [PepCheckboxComponent],\n})\nexport class PepCheckboxModule {\n    constructor(private pepIconRegistry: PepIconRegistry) {\n        this.pepIconRegistry.registerIcons([pepIconSystemBolt]);\n    }\n}\n","/*\n * Public API Surface of ngx-lib/checkbox\n */\nexport * from './checkbox.module';\nexport * from './checkbox.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["DEFAULT_HORIZONTAL_ALIGNMENT","EventEmitter","PepCheckboxField","PepCustomizationService","Component","ChangeDetectionStrategy","Renderer2","ElementRef","TranslateService","Input","Output","pepIconSystemBolt","NgModule","CommonModule","ReactiveFormsModule","MatCommonModule","MatFormFieldModule","MatCheckboxModule","MatIconModule","PepNgxLibModule","PepIconModule","PepFieldTitleModule","PepIconRegistry"],"mappings":"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"}