{"version":3,"file":"pepperi-addons-ngx-lib-size-detector.umd.js","sources":["../../../projects/ngx-lib/size-detector/size-detector.component.ts","../../../projects/ngx-lib/size-detector/size-detector.module.ts","../../../projects/ngx-lib/size-detector/public-api.ts","../../../projects/ngx-lib/size-detector/pepperi-addons-ngx-lib-size-detector.ts"],"sourcesContent":["import {\n    Component,\n    OnInit,\n    AfterViewInit,\n    HostListener,\n    ElementRef,\n    Input,\n    Output,\n    EventEmitter,\n} from '@angular/core';\nimport { PepLayoutService, PepScreenSizeType } from '@pepperi-addons/ngx-lib';\n\ninterface IPepSizeDetectorItem {\n    id: PepScreenSizeType;\n    name: string;\n    css: string;\n}\n\n@Component({\n    selector: 'pep-size-detector',\n    templateUrl: './size-detector.component.html',\n})\nexport class PepSizeDetectorComponent implements AfterViewInit {\n    @Input() showScreenSize = false;\n\n    private _useAsWebComponent = false;\n    @Input()\n    set useAsWebComponent(value: boolean) {\n        if (value) {\n            this.exportFunctionsOnHostElement();\n        }\n    }\n    get useAsWebComponent(): boolean {\n        return this._useAsWebComponent;\n    }\n\n    @Output()\n    sizeChange: EventEmitter<IPepSizeDetectorItem> = new EventEmitter<IPepSizeDetectorItem>();\n\n    prefix = 'is-';\n    sizes: Array<IPepSizeDetectorItem> = [\n        {\n            id: PepScreenSizeType.XS,\n            name: 'xs',\n            css: `d-block d-sm-none`,\n        },\n        {\n            id: PepScreenSizeType.SM,\n            name: 'sm',\n            css: `d-none d-sm-block d-md-none`,\n        },\n        {\n            id: PepScreenSizeType.MD,\n            name: 'md',\n            css: `d-none d-md-block d-lg-none`,\n        },\n        {\n            id: PepScreenSizeType.LG,\n            name: 'lg',\n            css: `d-none d-lg-block d-xl-none`,\n        },\n        {\n            id: PepScreenSizeType.XL,\n            name: 'xl',\n            css: `d-none d-xl-block`,\n        },\n    ];\n\n    private currentSize: IPepSizeDetectorItem;\n\n    constructor(\n        private hostElement: ElementRef,\n        private layoutService: PepLayoutService\n    ) {\n        this.layoutService.onResize$.subscribe((size: PepScreenSizeType) => {\n            this.currentSize = this.sizes.find((s) => s.id === size);\n            this.sizeChange.emit(this.currentSize);\n        });\n    }\n\n    @HostListener('window:resize', ['$event'])\n    onResize(event): void {\n        this.detectScreenSize();\n    }\n\n    ngAfterViewInit(): void {\n        this.detectScreenSize();\n    }\n\n    private detectScreenSize(): void {\n        this.currentSize = this.sizes.find((x) => {\n            const el = this.hostElement.nativeElement.querySelector(\n                `.${this.prefix}${x.id}`\n            );\n            const isVisible = window.getComputedStyle(el).display !== 'none';\n\n            return isVisible;\n        });\n\n        this.layoutService.onResize(this.currentSize.id);\n    }\n\n    private exportFunctionsOnHostElement() {\n        // This is for web component usage for use those functions.\n        this.hostElement.nativeElement.getCurrentSize = this.getCurrentSize.bind(\n            this\n        );\n    }\n\n    getCurrentSize(): IPepSizeDetectorItem {\n        return this.currentSize;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { PepNgxLibModule } from '@pepperi-addons/ngx-lib';\n\nimport { PepSizeDetectorComponent } from './size-detector.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        ReactiveFormsModule,\n        FlexLayoutModule,\n        // ngx-lib modules\n        PepNgxLibModule,\n    ],\n    exports: [PepSizeDetectorComponent],\n    declarations: [PepSizeDetectorComponent],\n})\nexport class PepSizeDetectorModule {}\n","/*\n * Public API Surface of ngx-lib/size-detector\n */\nexport * from './size-detector.module';\nexport * from './size-detector.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","PepScreenSizeType","Component","ElementRef","PepLayoutService","Input","Output","HostListener","NgModule","CommonModule","ReactiveFormsModule","FlexLayoutModule","PepNgxLibModule"],"mappings":"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"}